{"ID":"20241014160902-6zs4sm9","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f945","id":"20241014160902-6zs4sm9","title":"redis安全加固","updated":"20241014183240"},"Children":[{"ID":"20241014160902-6c7rawy","Type":"NodeParagraph","Properties":{"id":"20241014160902-6c7rawy","updated":"20241014161255"},"Children":[{"Type":"NodeText","Data":"配置文件：/etc/redis.conf"}]},{"ID":"20241014161411-99t1p8b","Type":"NodeParagraph","Properties":{"id":"20241014161411-99t1p8b"}},{"ID":"20241014161411-btclzet","Type":"NodeHeading","HeadingLevel":4,"Properties":{"fold":"1","id":"20241014161411-btclzet","updated":"20241014161432"},"Children":[{"Type":"NodeText","Data":"1.网络层加固，设置允许访问的IP地址，0.0.0.0表示所有都可以访问;建议#配置127.0.0.1 192.168.188.100"}]},{"ID":"20241014161257-eb8k0gl","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"fold":"1","heading-fold":"1","id":"20241014161257-eb8k0gl","updated":"20241014183240"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"[root@localhost phpmyadmin]# cat /etc/redis.conf |grep bind\n# By default, if no \"bind\" configuration directive is specified, Redis listens\n# the \"bind\" configuration directive, followed by one or more IP addresses.\n# bind 192.168.1.100 10.0.0.1\n# bind 127.0.0.1 ::1\n# internet, binding to all the interfaces is dangerous and will expose the\n# following bind directive, that will force Redis to listen only into\nbind 0.0.0.0        #配置127.0.0.1  192.168.188.100\n# 1) The server is not binding explicitly to a set of addresses using the\n#    \"bind\" directive.\n# are explicitly listed using the \"bind\" directive.\n[root@localhost phpmyadmin]# netstat -ntlp |grep 6379\ntcp        0      0 0.0.0.0:6379            0.0.0.0:*               LISTEN  \n909/redis-server 0. \n[root@localhost phpmyadmin]#\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241014161554-fohr3g2","Type":"NodeHeading","HeadingLevel":4,"Properties":{"fold":"1","id":"20241014161554-fohr3g2","updated":"20241014161603"},"Children":[{"Type":"NodeText","Data":"2.修改默认端口"}]},{"ID":"20241014161613-4kk1vt0","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20241014161613-4kk1vt0","updated":"20241014161613"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241014161613-mpq62ja.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20241014161617-yrefas6","Type":"NodeHeading","HeadingLevel":4,"Properties":{"fold":"1","id":"20241014161617-yrefas6","updated":"20241014161624"},"Children":[{"Type":"NodeText","Data":"3.开启保护模式"}]},{"ID":"20241014161624-319tk8f","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"fold":"1","heading-fold":"1","id":"20241014161624-319tk8f","updated":"20241014161639"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"protected-mode = yes \n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241014161823-m1v7aqj","Type":"NodeHeading","HeadingLevel":4,"Properties":{"fold":"1","id":"20241014161823-m1v7aqj","updated":"20241014161844"},"Children":[{"Type":"NodeText","Data":"4.指定密码登录（设置强口令）"}]},{"ID":"20241014162627-cxz2gar","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"fold":"1","heading-fold":"1","id":"20241014162627-cxz2gar","updated":"20241014162636"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"requirepass \u003c密码\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241014161835-7l022ta","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20241014161835-7l022ta","updated":"20241014161835"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241014161835-27wxqhu.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20241014161849-zwjxava","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20241014161849-zwjxava"}},{"ID":"20241014161850-eifxcgh","Type":"NodeHeading","HeadingLevel":4,"Properties":{"fold":"1","id":"20241014161850-eifxcgh","updated":"20241014183129"},"Children":[{"Type":"NodeText","Data":"5.禁止危险函数-结合业务功能"}]},{"ID":"20241014162700-js13g5l","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20241014162700-js13g5l","updated":"20241014162826"},"Children":[{"Type":"NodeText","Data":"禁用之后，用户即登录成功后，也无法再redis数据库命令中使用我们已经禁用的函数:"}]},{"ID":"20241014183054-6xhtaep","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"fold":"1","heading-fold":"1","id":"20241014183054-6xhtaep","updated":"20241014183110"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"rename-command CONFIG \"\"    #假设需要使用CONFIG命令，那就设置强口令或者指定IP访问\nrename-command FLUSHALL \"\"\nrename-command FLUSHDB \"\"\nrename-command KEYS \"\"\nrename-command DEL \"\"\nrename-command EVAL \"\"\nrename-command SHOUTDOWN \"\"\n#更多可以禁用的函数：FLUSHDB, FLUSHALL, KEYS,PEXPIRE, DEL, CONFIG, SHUTDOWN, \nBGREWRITEAOF, BGSAVE, SAVE, SPOP, SREM, RENAME,DEBUG, EVAL\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241014163032-j2swxsv","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20241014163032-j2swxsv","updated":"20241014163032"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241014163032-md5vuhx.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20241014163032-6cgl0ph","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20241014163032-6cgl0ph","updated":"20241014163041"}}]}