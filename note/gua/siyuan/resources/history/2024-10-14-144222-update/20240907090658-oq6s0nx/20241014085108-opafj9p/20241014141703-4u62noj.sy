{"ID":"20241014141703-4u62noj","Spec":"1","Type":"NodeDocument","Properties":{"icon":"1f945","id":"20241014141703-4u62noj","title":"安全加固-MYSQL","updated":"20241014144221"},"Children":[{"ID":"20241014141742-7ywi2n5","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20241014141742-7ywi2n5","updated":"20241014142117"},"Children":[{"Type":"NodeText","Data":"1.账号安全"}]},{"ID":"20241014142120-7ozccva","Type":"NodeParagraph","Properties":{"id":"20241014142120-7ozccva","updated":"20241014142142"},"Children":[{"Type":"NodeText","Data":"/etc/my.cnf 配置文件默认路径，在文件mysqld下添加："}]},{"ID":"20241014142143-s7m5lfe","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241014142143-s7m5lfe","updated":"20241014142149"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"user=mysql\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241014142206-ok3b520","Type":"NodeParagraph","Properties":{"id":"20241014142206-ok3b520","updated":"20241014142206"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241014142206-vvi0d1z.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20241014142222-24gmtcw","Type":"NodeParagraph","Properties":{"id":"20241014142222-24gmtcw"}},{"ID":"20241014141855-s370vpm","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20241014141855-s370vpm","updated":"20241014142245"},"Children":[{"Type":"NodeText","Data":"创建普通用户方法"}]},{"ID":"20241014142725-za7nif0","Type":"NodeParagraph","Properties":{"id":"20241014142725-za7nif0","updated":"20241014142806"},"Children":[{"Type":"NodeText","Data":"PS：如果要更改root用户只能localhost访问，一定要先设置普通用户可以通过%方式登录"}]},{"ID":"20241014141947-oj7mcdx","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241014141947-oj7mcdx","updated":"20241014143654"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"MarinaDB[(none)]\u003egrant all on *.* to stsafe@'%' identified by '123456';  #创建一个名称为etsafe：123456，可以通过任意主机登录管理数据库\n\n#grant关键字用于授予权限，*.*数据库和表的通配符--任意，stsafe指用户名\n#%表示同门用户可以通过任意主机登录，如果过localhost则是使用的本机登录\n\nMarinaDB[(none)]\u003eflush privileges #刷新权限\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241014141751-pzkw6xv","Type":"NodeParagraph","Properties":{"id":"20241014141751-pzkw6xv"}},{"ID":"20241014141751-ful89o9","Type":"NodeHeading","HeadingLevel":5,"Properties":{"fold":"1","id":"20241014141751-ful89o9","updated":"20241014142541"},"Children":[{"Type":"NodeText","Data":"普通用户登录"}]},{"ID":"20241014142543-09ptxyt","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"fold":"1","heading-fold":"1","id":"20241014142543-09ptxyt","updated":"20241014142919"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"mysql -h ip -uetsafe -p #普通用户登录\nMarinaDB[(none)]\u003eexit #登陆成功后退出\n\nmysql -u root -p #切换到root用户\nMarinaDB[(none)]\u003edrop user etsafe #删除普通用户\nMarinaDB[(none)]\u003eexit\nmysql -h ip -uetsafe -p #普通用户登录则失效了\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241014141703-5rihwtx","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20241014141703-5rihwtx","updated":"20241014141703"}},{"ID":"20241014142928-so4a36j","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20241014142928-so4a36j","updated":"20241014143235"},"Children":[{"Type":"NodeText","Data":"2.口令安全"}]},{"ID":"20241014142940-pclf500","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241014142940-pclf500","updated":"20241014143422"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"#登录root：root\nMarinaDB[(none)]\u003euse mysql\nMarinaDB[(none)]\u003eupdate user set password=password('ETsafe666') where user='root';\n\nMarinaDB[(none)]\u003eflush privileges;   //刷新权限\nMarinaDB[(none)]\u003eexit\n\nmysql -u root -p #重新登陆，此次密码是ETsafe666\nMarinaDB[(none)]\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241014143732-8823t6q","Type":"NodeParagraph","Properties":{"id":"20241014143732-8823t6q"}},{"ID":"20241014143733-5vxqcix","Type":"NodeParagraph","Properties":{"id":"20241014143733-5vxqcix"}},{"ID":"20241014143733-fe4860m","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241014143733-fe4860m","updated":"20241014144221"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"mysql -u root -p      #登录mysql root:root\nMarinaDB[(none)]\u003egrant all on *.* to etsafe@'%' identified by '123456';  #创建拥有所有权限的etsafe@'%'用户密码为123456\nMarinaDB[(none)]\u003eflush privileges;   //刷新权限\nMarinaDB[(none)]\u003eshow grants for etsafe@'%';   #查看用户etsafe@'%'的权限\n\n#使用revoke\nMarinaDB[(none)]\u003erevoke insert,update,alter,delete,create,drop,shutdown on *.* from etsafe@'%';\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}