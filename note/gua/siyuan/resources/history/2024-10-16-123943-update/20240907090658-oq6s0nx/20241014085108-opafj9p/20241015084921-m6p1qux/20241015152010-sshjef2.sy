{"ID":"20241015152010-sshjef2","Spec":"1","Type":"NodeDocument","Properties":{"icon":"21a9","id":"20241015152010-sshjef2","scroll":"\u0026#123;\u0026quot;rootId\u0026quot;:\u0026quot;20241015152010-sshjef2\u0026quot;,\u0026quot;startId\u0026quot;:\u0026quot;20241015152010-m789r5y\u0026quot;,\u0026quot;endId\u0026quot;:\u0026quot;20241015154057-fjmy7vy\u0026quot;,\u0026quot;scrollTop\u0026quot;:0,\u0026quot;focusId\u0026quot;:\u0026quot;20241015154057-fjmy7vy\u0026quot;,\u0026quot;focusStart\u0026quot;:0,\u0026quot;focusEnd\u0026quot;:0\u0026#125;","title":"web日志","updated":"20241016123943"},"Children":[{"ID":"20241016114709-udoof4h","Type":"NodeParagraph","Properties":{"id":"20241016114709-udoof4h"}},{"ID":"20241016114729-innz6dq","Type":"NodeParagraph","Properties":{"id":"20241016114729-innz6dq","updated":"20241016114729"},"Children":[{"Type":"NodeText","Data":"记录了web服务器的处理请求和数据包的内容"}]},{"ID":"20241016114729-2q9u22d","Type":"NodeParagraph","Properties":{"id":"20241016114729-2q9u22d","updated":"20241016114729"},"Children":[{"Type":"NodeText","Data":"一条完整的web日志包含的内容"}]},{"ID":"20241016115218-p3oalot","Type":"NodeParagraph","Properties":{"id":"20241016115218-p3oalot","updated":"20241016115338"},"Children":[{"Type":"NodeText","Data":"​​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241016115338-n88dozd.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​​"}]},{"ID":"20241016114710-s6aiqps","Type":"NodeParagraph","Properties":{"id":"20241016114710-s6aiqps"}},{"ID":"20241016123450-0g09g4u","Type":"NodeHeading","HeadingLevel":6,"Properties":{"id":"20241016123450-0g09g4u","updated":"20241016123512"},"Children":[{"Type":"NodeText","Data":"1.查看哪些IP访问次数最多"}]},{"ID":"20241016123513-9o9pgu3","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241016123513-9o9pgu3","updated":"20241016123531"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"cut -d- -f 1 ./access_log |uniq -c |sort -rn | head -20\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241016123553-0myv2qf","Type":"NodeParagraph","Properties":{"id":"20241016123553-0myv2qf"}},{"ID":"20241016114710-u4oz80c","Type":"NodeHeading","HeadingLevel":6,"Properties":{"id":"20241016114710-u4oz80c","updated":"20241016123605"},"Children":[{"Type":"NodeText","Data":"2.统计当日有多少IP访问本机"}]},{"ID":"20241016123606-0z2t7qh","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241016123606-0z2t7qh","updated":"20241016123612"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"awk '{print $1}' ./access_log |sort |uniq | wc -l\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241016123546-0ove3hp","Type":"NodeParagraph","Properties":{"id":"20241016123546-0ove3hp"}},{"ID":"20241016123614-pwdwf54","Type":"NodeHeading","HeadingLevel":6,"Properties":{"id":"20241016123614-pwdwf54","updated":"20241016123625"},"Children":[{"Type":"NodeText","Data":"3.某个页面被访问的次数"}]},{"ID":"20241016123626-ich3pib","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241016123626-ich3pib","updated":"20241016123633"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"grep \"/index.php\" ./access_log |wc -l\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241016123546-kgr1pjp","Type":"NodeParagraph","Properties":{"id":"20241016123546-kgr1pjp"}},{"ID":"20241016123635-42ly8bs","Type":"NodeParagraph","Properties":{"id":"20241016123635-42ly8bs","updated":"20241016123652"},"Children":[{"Type":"NodeText","Data":"4.查看某个IP访问了多少页面，排序输出"}]},{"ID":"20241016123652-hoa2u10","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241016123652-hoa2u10","updated":"20241016123702"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"[root@localhost httpd]# awk '{++S[$1]} END {for (a in S) print S[a],a}'  ./access_log |sort -n\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241016123546-2m3kp0s","Type":"NodeParagraph","Properties":{"id":"20241016123546-2m3kp0s"}},{"ID":"20241016123704-7xrw656","Type":"NodeHeading","HeadingLevel":6,"Properties":{"id":"20241016123704-7xrw656","updated":"20241016123721"},"Children":[{"Type":"NodeText","Data":"5.查看某个IP访问了哪些页面"}]},{"ID":"20241016123721-kc0eij3","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241016123721-kc0eij3","updated":"20241016123728"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"grep ^192.168.188.128 ./access_log |awk '{print $1,$7}'\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241016123704-66teyvx","Type":"NodeParagraph","Properties":{"id":"20241016123704-66teyvx"}},{"ID":"20241016123729-82t4hyv","Type":"NodeParagraph","Properties":{"id":"20241016123729-82t4hyv"}},{"ID":"20241016123730-muejeqz","Type":"NodeHeading","HeadingLevel":6,"Properties":{"id":"20241016123730-muejeqz","updated":"20241016123745"},"Children":[{"Type":"NodeText","Data":"6.查看某个时间段有多少ip在访问"}]},{"ID":"20241016123745-6gbemtl","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241016123745-6gbemtl","updated":"20241016123753"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"awk '{print $4,$1}' ./access.log | grep 21/Jun/2018:14 | awk '{print $2}'| sort | uniq | wc -l \n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241016123704-58u9zxu","Type":"NodeParagraph","Properties":{"id":"20241016123704-58u9zxu"}},{"ID":"20241016123546-w0i4qu8","Type":"NodeParagraph","Properties":{"id":"20241016123546-w0i4qu8"}},{"ID":"20241015152010-m789r5y","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20241015152010-m789r5y","updated":"20241015154046"},"Children":[{"Type":"NodeText","Data":"思路"}]},{"ID":"20241016123809-cwe887n","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20241016123809-cwe887n"},"Children":[{"ID":"20241016123809-htef9dw","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20241016123809-htef9dw"},"Children":[{"ID":"20241015154046-jgnfai9","Type":"NodeParagraph","Properties":{"id":"20241015154046-jgnfai9","updated":"20241015154428"},"Children":[{"Type":"NodeText","Data":"定位攻击源（通过日志内的关键攻击语句或攻击行为）  ---获取IP地址"}]}]},{"ID":"20241016123809-hj14hpz","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20241016123809-hj14hpz"},"Children":[{"ID":"20241015154428-dmx0dvs","Type":"NodeParagraph","Properties":{"id":"20241015154428-dmx0dvs","updated":"20241015154554"},"Children":[{"Type":"NodeText","Data":"通过查看ip在什么时间段或者请求的200状态的页面有哪些 ---获取他的攻击漏洞入口"}]},{"ID":"20241016123823-d89wfxl","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241016123823-d89wfxl","updated":"20241016123842"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"grep ^192.168.188.128 ./access_log | awk '{print $1,$7,$9}' | grep 200 #定位目标ip范文200的页面\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20241016123809-w80zav1","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20241016123809-w80zav1"},"Children":[{"ID":"20241015154057-fjmy7vy","Type":"NodeParagraph","Properties":{"id":"20241015154057-fjmy7vy","updated":"20241015154827"},"Children":[{"Type":"NodeText","Data":"查看他的攻击语句，分析其攻击语句使用的漏洞（SQL注入、文件上传、反序列化。。。）"}]}]},{"ID":"20241016123809-61yh5q9","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"NC4=","Num":4},"Properties":{"id":"20241016123809-61yh5q9"},"Children":[{"ID":"20241015154828-98abreq","Type":"NodeParagraph","Properties":{"id":"20241015154828-98abreq","updated":"20241015154831"},"Children":[{"Type":"NodeText","Data":"IP溯源"}]},{"ID":"20241015154832-tn2gybp","Type":"NodeParagraph","Properties":{"id":"20241015154832-tn2gybp","updated":"20241015154942"},"Children":[{"Type":"NodeText","Data":"微步等查看ip的威胁状态，是否C2（如果是查看历史木马样本和攻击行为）或个人服务器（信息收集：扫描获取该ip的相关页面的内容）"}]}]}]},{"ID":"20241016123853-48fyfe0","Type":"NodeParagraph","Properties":{"id":"20241016123853-48fyfe0"}},{"ID":"20241016123855-kcafnjk","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20241016123855-kcafnjk","updated":"20241016123900"},"Children":[{"Type":"NodeText","Data":"日志统计技巧"}]},{"ID":"20241016123904-3fjutf1","Type":"NodeHeading","HeadingLevel":6,"Properties":{"id":"20241016123904-3fjutf1","updated":"20241016123932"},"Children":[{"Type":"NodeText","Data":"1.统计爬虫"}]},{"ID":"20241016123908-7ing4at","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241016123908-7ing4at","updated":"20241016123915"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"grep -E 'Googlebot|Baiduspider|\u003c其他网站爬虫特征\u003e' /var/log/httpd/access_log-20210620 | awk '{ print $1 }' | sort | uniq\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241016123916-5d4jlmd","Type":"NodeParagraph","Properties":{"id":"20241016123916-5d4jlmd"}},{"ID":"20241016123917-uu6envu","Type":"NodeHeading","HeadingLevel":6,"Properties":{"id":"20241016123917-uu6envu","updated":"20241016123941"},"Children":[{"Type":"NodeText","Data":"2.统计浏览器"}]},{"ID":"20241016123920-p8nfgio","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241016123920-p8nfgio","updated":"20241016123925"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"cat access_log-20210620 | grep -v -E 'MSIE|Firefox|Chrome|Opera|Safari|Gecko|Maxthon' | sort | uniq -c | sort -r -n\n定位木马、蚁剑、SQ注入等攻击行为，来自172.16.12.133\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241016123943-xhz6ofb","Type":"NodeParagraph","Properties":{"id":"20241016123943-xhz6ofb"}}]}