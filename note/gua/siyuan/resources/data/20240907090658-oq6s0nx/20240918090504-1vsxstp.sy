{"ID":"20240918090504-1vsxstp","Spec":"1","Type":"NodeDocument","Properties":{"id":"20240918090504-1vsxstp","scroll":"\u0026#123;\u0026quot;rootId\u0026quot;:\u0026quot;20240918090504-1vsxstp\u0026quot;,\u0026quot;startId\u0026quot;:\u0026quot;20240918090611-o9i21tq\u0026quot;,\u0026quot;endId\u0026quot;:\u0026quot;20240918105149-jue8tbv\u0026quot;,\u0026quot;scrollTop\u0026quot;:4536,\u0026quot;focusId\u0026quot;:\u0026quot;20240918090611-o9i21tq\u0026quot;,\u0026quot;focusStart\u0026quot;:0,\u0026quot;focusEnd\u0026quot;:0\u0026#125;","title":"CSRF（跨站请求伪造）","updated":"20240918225743"},"Children":[{"ID":"20240918090611-o9i21tq","Type":"NodeHeading","HeadingLevel":1,"Properties":{"id":"20240918090611-o9i21tq","updated":"20240918151531"},"Children":[{"Type":"NodeText","Data":"概述"}]},{"ID":"20240918151545-vrck99w","Type":"NodeBlockquote","Properties":{"id":"20240918151545-vrck99w","updated":"20240918225631"},"Children":[{"ID":"20240918151537-jbk32e8","Type":"NodeList","ListData":{},"Properties":{"id":"20240918151537-jbk32e8","updated":"20240918225631"},"Children":[{"ID":"20240918151720-ygqbv4t","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918151720-ygqbv4t","updated":"20240918225631"},"Children":[{"ID":"20240918151720-r5qfalq","Type":"NodeParagraph","Properties":{"id":"20240918151720-r5qfalq","updated":"20240918154149"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"原理"},{"Type":"NodeText","Data":"：跨站请求伪造（Cross-site request forgery）是一种攻击，是一种"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color9);"},"TextMarkType":"text","TextMarkTextContent":"欺骗"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color9);\"}"},{"Type":"NodeText","Data":"受害者提交恶意请求和攻击，它继"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color9);"},"TextMarkType":"text","TextMarkTextContent":"承了受害者的身份和权限"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color9);\"}"},{"Type":"NodeText","Data":"，代表受害者执行"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color8);"},"TextMarkType":"text","TextMarkTextContent":"非本意、恶意"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color8);\"}"},{"Type":"NodeText","Data":"的操作"}]},{"ID":"20240918153626-ybhg4gi","Type":"NodeParagraph","Properties":{"id":"20240918153626-ybhg4gi","updated":"20240918225631"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"ab9922509ef5d51e418d17464a3037f"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/ab9922509ef5d51e418d17464a3037f-20240918153620-ukc8r0y.jpg"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240918151722-iuau29e","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918151722-iuau29e","updated":"20240918151754"},"Children":[{"ID":"20240918151722-fv2csq6","Type":"NodeParagraph","Properties":{"id":"20240918151722-fv2csq6","updated":"20240918151754"},"Children":[{"Type":"NodeText","Data":"攻击侧重点在于"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color10);"},"TextMarkType":"text","TextMarkTextContent":"伪造更改状态的请求"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color10);\"}"},{"Type":"NodeText","Data":"，而不是盗取数据"}]}]},{"ID":"20240918160725-7arn1w1","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918160725-7arn1w1","updated":"20240918160747"},"Children":[{"ID":"20240918160726-oadb0xy","Type":"NodeParagraph","Properties":{"id":"20240918160726-oadb0xy","updated":"20240918160734"},"Children":[{"Type":"NodeText","Data":"PS："}]},{"ID":"20240918160737-j8eu0o9","Type":"NodeList","ListData":{},"Properties":{"id":"20240918160737-j8eu0o9","updated":"20240918160739"},"Children":[{"ID":"20240918160739-k3jc6se","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918160739-k3jc6se","updated":"20240918160739"},"Children":[{"ID":"20240918160739-js8jyt2","Type":"NodeParagraph","Properties":{"id":"20240918160739-js8jyt2","updated":"20240918160739"},"Children":[{"Type":"NodeText","Data":"http协议是一种无状态协议"}]}]}]},{"ID":"20240918160732-632czu8","Type":"NodeList","ListData":{},"Properties":{"id":"20240918160732-632czu8","updated":"20240918160741"},"Children":[{"ID":"20240918160741-ivckb13","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918160741-ivckb13","updated":"20240918160741"},"Children":[{"ID":"20240918160741-43jjzw2","Type":"NodeParagraph","Properties":{"id":"20240918160741-43jjzw2","updated":"20240918160741"},"Children":[{"Type":"NodeText","Data":"浏览器或服务器通过cookie分辨访问的用户"}]}]}]},{"ID":"20240918160726-ku2uq9z","Type":"NodeList","ListData":{},"Properties":{"id":"20240918160726-ku2uq9z","updated":"20240918160747"},"Children":[{"ID":"20240918160747-ea43vjh","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918160747-ea43vjh","updated":"20240918160747"},"Children":[{"ID":"20240918160747-hsdyjka","Type":"NodeParagraph","Properties":{"id":"20240918160747-hsdyjka","updated":"20240918160753"},"Children":[{"Type":"NodeText","Data":"利用未登出的站点，及其存储在浏览器中的cookie"}]}]},{"ID":"20240918160753-gc9abdh","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918160753-gc9abdh"},"Children":[{"ID":"20240918160753-eedan7r","Type":"NodeParagraph","Properties":{"id":"20240918160753-eedan7r"},"Children":[{"Type":"NodeText","Data":"通过恶意站点向受害者站点发送请求（需要用户交互，通过浏览器来实现）"}]}]}]}]}]},{"Type":"NodeBlockquoteMarker","Data":"\u003e"}]},{"ID":"20240918090938-a1x0agj","Type":"NodeParagraph","Properties":{"id":"20240918090938-a1x0agj","updated":"20240918152449"}},{"ID":"20240918153928-7l6csdl","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240918153928-7l6csdl","updated":"20240918154132"},"Children":[{"Type":"NodeText","Data":"关键点"}]},{"ID":"20240918154132-mxajta5","Type":"NodeParagraph","Properties":{"id":"20240918154132-mxajta5"},"Children":[{"Type":"NodeText","Data":"大多数站点，浏览器请求自动发送与站点关联的所有凭据（如用户的会话cookie、IP地址、windows域凭据等），若用户当前一对该站点进行了身份验证，则该站带你将"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color11);"},"TextMarkType":"text","TextMarkTextContent":"无法区分"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color11);\"}"},{"Type":"NodeText","Data":"受害者发送的伪造请求和受害者发送的合法请求"}]},{"ID":"20240918154121-fefxmdh","Type":"NodeParagraph","Properties":{"id":"20240918154121-fefxmdh"}},{"ID":"20240918153938-3g2zrc8","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240918153938-3g2zrc8","updated":"20240918154143"},"Children":[{"Type":"NodeText","Data":"攻击条件"}]},{"ID":"20240918154111-pbfzj56","Type":"NodeBlockquote","Properties":{"id":"20240918154111-pbfzj56","updated":"20240918154118"},"Children":[{"ID":"20240918154118-ceqsuz1","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240918154118-ceqsuz1","updated":"20240918154118"},"Children":[{"ID":"20240918154118-z184btu","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240918154118-z184btu","updated":"20240918154118"},"Children":[{"ID":"20240918154000-96pd9i0","Type":"NodeParagraph","Properties":{"id":"20240918154000-96pd9i0","updated":"20240918154118"},"Children":[{"Type":"NodeText","Data":"登录受信任网站A，并在本地的生成的cookie"}]}]},{"ID":"20240918154118-k15juak","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240918154118-k15juak","updated":"20240918154118"},"Children":[{"ID":"20240918154044-2lipjje","Type":"NodeParagraph","Properties":{"id":"20240918154044-2lipjje","updated":"20240918154118"},"Children":[{"Type":"NodeText","Data":"在不登出A的情况下，访问危险网站B"}]}]}]},{"Type":"NodeBlockquoteMarker","Data":"\u003e"}]},{"ID":"20240918153928-jvy1ke1","Type":"NodeParagraph","Properties":{"id":"20240918153928-jvy1ke1"}},{"ID":"20240918184000-5n02dgj","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240918184000-5n02dgj","updated":"20240918184000"},"Children":[{"Type":"NodeText","Data":"常出现位置"}]},{"ID":"20240918184000-jtxnoti","Type":"NodeParagraph","Properties":{"id":"20240918184000-jtxnoti","updated":"20240918184000"},"Children":[{"Type":"NodeText","Data":"1.修改资料（密码、身份信息、头像）和其他三方网站绑定（关联的）"}]},{"ID":"20240918184000-r0irewq","Type":"NodeParagraph","Properties":{"id":"20240918184000-r0irewq","updated":"20240918184000"},"Children":[{"Type":"NodeText","Data":"2.登录口、注册页面、注销登录"}]},{"ID":"20240918184000-gufegpx","Type":"NodeParagraph","Properties":{"id":"20240918184000-gufegpx","updated":"20240918184000"},"Children":[{"Type":"NodeText","Data":"3.订阅、关注、转发、投票（小程序内的投票）、管理员删除文件、管理员修改权限、管理员修改权限、API接口未授权（修改、配置）"}]},{"ID":"20240918184000-8o6llkg","Type":"NodeParagraph","Properties":{"id":"20240918184000-8o6llkg","updated":"20240918184000"},"Children":[{"Type":"NodeText","Data":"4.登录后令牌没更新的，退出失败的（代码逻辑错误、配置错误）"}]},{"ID":"20240918183959-09cqowy","Type":"NodeParagraph","Properties":{"id":"20240918183959-09cqowy"}},{"ID":"20240918153928-wew1wnf","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240918153928-wew1wnf","updated":"20240918154157"},"Children":[{"Type":"NodeText","Data":"危害"}]},{"ID":"20240918154227-jfwgzox","Type":"NodeBlockquote","Properties":{"id":"20240918154227-jfwgzox","updated":"20240918154601"},"Children":[{"ID":"20240918154451-6dkmbyv","Type":"NodeList","ListData":{},"Properties":{"id":"20240918154451-6dkmbyv","updated":"20240918154601"},"Children":[{"ID":"20240918154451-mdicbd3","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918154451-mdicbd3","updated":"20240918154527"},"Children":[{"ID":"20240918154223-h8004c7","Type":"NodeParagraph","Properties":{"id":"20240918154223-h8004c7","updated":"20240918154527"},"Children":[{"Type":"NodeText","Data":"攻击者"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color10);"},"TextMarkType":"text","TextMarkTextContent":"盗用用户的身份"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color10);\"}"},{"Type":"NodeText","Data":"，以用户的名义发送恶意请求"}]}]},{"ID":"20240918154454-jcspy3y","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918154454-jcspy3y","updated":"20240918154539"},"Children":[{"ID":"20240918154454-593p8vk","Type":"NodeParagraph","Properties":{"id":"20240918154454-593p8vk","updated":"20240918154539"},"Children":[{"Type":"NodeText","Data":"csrf恶意操作：以用户名义发"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color8);"},"TextMarkType":"text","TextMarkTextContent":"送邮件、发消息、盗取账号、购买商品、虚拟货币转账"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color8);\"}"},{"Type":"NodeText","Data":"等"}]}]},{"ID":"20240918154457-8h4e46c","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918154457-8h4e46c","updated":"20240918154553"},"Children":[{"ID":"20240918154457-vg5ygyt","Type":"NodeParagraph","Properties":{"id":"20240918154457-vg5ygyt","updated":"20240918154553"},"Children":[{"Type":"NodeText","Data":"个人"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color12);"},"TextMarkType":"text","TextMarkTextContent":"隐私泄露"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color12);\"}"},{"Type":"NodeText","Data":"及"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color11);"},"TextMarkType":"text","TextMarkTextContent":"财产安全"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color11);\"}"},{"Type":"NodeText","Data":"问题"}]}]},{"ID":"20240918154509-rbz6oje","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918154509-rbz6oje","updated":"20240918154601"},"Children":[{"ID":"20240918154509-vorxlpr","Type":"NodeParagraph","Properties":{"id":"20240918154509-vorxlpr","updated":"20240918154601"},"Children":[{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color6);"},"TextMarkType":"text","TextMarkTextContent":"web应用"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color6);\"}"},{"Type":"NodeText","Data":"整个程序（管理账户）"}]}]}]},{"Type":"NodeBlockquoteMarker","Data":"\u003e"}]},{"ID":"20240918153928-abzwqi3","Type":"NodeParagraph","Properties":{"id":"20240918153928-abzwqi3"}},{"ID":"20240918154620-np067s6","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240918154620-np067s6","updated":"20240918154620"},"Children":[{"Type":"NodeText","Data":"防御"}]},{"ID":"20240918154803-1blifjl","Type":"NodeBlockquote","Properties":{"id":"20240918154803-1blifjl","updated":"20240918155120"},"Children":[{"ID":"20240918154807-y65mw8v","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240918154807-y65mw8v","updated":"20240918155120"},"Children":[{"ID":"20240918154807-0ghhm9k","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240918154807-0ghhm9k","updated":"20240918154926"},"Children":[{"ID":"20240918154807-595l6bq","Type":"NodeParagraph","Properties":{"id":"20240918154807-595l6bq","updated":"20240918154926"},"Children":[{"Type":"NodeText","Data":"添加随机token值（cookie=????\u0026token=1234544），每次请求时都校验随机数，如果没有token或者token内容不正确则可以认为可能是该攻击而拒绝请求"}]}]},{"ID":"20240918154807-nktb3i2","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240918154807-nktb3i2","updated":"20240918154807"},"Children":[{"ID":"20240918154807-yh2hweg","Type":"NodeParagraph","Properties":{"id":"20240918154807-yh2hweg","updated":"20240918154807"},"Children":[{"Type":"NodeText","Data":"Referer头校验，校验是否来自统一网站，如果是"},{"Type":"NodeTextMark","Properties":{"style":"background-color: var(--b3-card-error-background); color: var(--b3-card-error-color);"},"TextMarkType":"text","TextMarkTextContent":"其他网站"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"background-color: var(--b3-card-error-background); color: var(--b3-card-error-color);\"}"},{"Type":"NodeText","Data":"的话，就有可能是CSRF攻击，则拒绝该请求"}]}]},{"ID":"20240918154807-cyhk1e1","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20240918154807-cyhk1e1","updated":"20240918154946"},"Children":[{"ID":"20240918154807-yatgxn7","Type":"NodeParagraph","Properties":{"id":"20240918154807-yatgxn7","updated":"20240918154946"},"Children":[{"Type":"NodeText","Data":"二次认证（零信任），敏感操作时进行密码校验"}]}]},{"ID":"20240918154807-acusu8d","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"NC4=","Num":4},"Properties":{"id":"20240918154807-acusu8d","updated":"20240918155113"},"Children":[{"ID":"20240918154807-pazt3v2","Type":"NodeParagraph","Properties":{"id":"20240918154807-pazt3v2","updated":"20240918155113"},"Children":[{"Type":"NodeText","Data":"不信任用户输入，校验是否原始数据"}]}]},{"ID":"20240918154807-ryobxsu","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"NS4=","Num":5},"Properties":{"id":"20240918154807-ryobxsu","updated":"20240918155120"},"Children":[{"ID":"20240918154807-kyt2eqx","Type":"NodeParagraph","Properties":{"id":"20240918154807-kyt2eqx","updated":"20240918155120"},"Children":[{"Type":"NodeText","Data":"同源策略（同域名、同协议、同端口）---跨域"}]}]},{"ID":"20240918154807-ifv6wk5","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Ni4=","Num":6},"Properties":{"id":"20240918154807-ifv6wk5","updated":"20240918154807"},"Children":[{"ID":"20240918154807-d9s8dd9","Type":"NodeParagraph","Properties":{"id":"20240918154807-d9s8dd9","updated":"20240918154807"},"Children":[{"Type":"NodeText","Data":"良好习惯，不要去乱点"}]}]}]},{"Type":"NodeBlockquoteMarker","Data":"\u003e"}]},{"ID":"20240918153928-pxymi1w","Type":"NodeParagraph","Properties":{"id":"20240918153928-pxymi1w"}},{"ID":"20240918160613-lldk203","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240918160613-lldk203","updated":"20240918160613"},"Children":[{"Type":"NodeText","Data":"面试问题"}]},{"ID":"20240918160613-jl6ica1","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240918160613-jl6ica1","updated":"20240918160613"},"Children":[{"ID":"20240918160613-co8g7m4","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240918160613-co8g7m4","updated":"20240918160613"},"Children":[{"ID":"20240918160613-zz34tdh","Type":"NodeParagraph","Properties":{"id":"20240918160613-zz34tdh","updated":"20240918160613"},"Children":[{"Type":"NodeText","Data":"把token放置cookie中，能否防护CSRF"}]},{"ID":"20240918160613-qj28qvn","Type":"NodeParagraph","Properties":{"id":"20240918160613-qj28qvn","updated":"20240918160613"},"Children":[{"Type":"NodeText","Data":"不能，CSRF冒用cookie，放置里面直接被利用"}]}]},{"ID":"20240918160613-eeuxmuc","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240918160613-eeuxmuc","updated":"20240918160613"},"Children":[{"ID":"20240918160613-pe74jn2","Type":"NodeParagraph","Properties":{"id":"20240918160613-pe74jn2","updated":"20240918160613"},"Children":[{"Type":"NodeText","Data":"需不需要cookie"}]},{"ID":"20240918160613-pd18nvs","Type":"NodeParagraph","Properties":{"id":"20240918160613-pd18nvs","updated":"20240918160613"},"Children":[{"Type":"NodeText","Data":"不需要，cookie存储在浏览器内，不需要获取cookie，本质是在冒用cookie"}]}]},{"ID":"20240918160613-kald3us","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20240918160613-kald3us","updated":"20240918160613"},"Children":[{"ID":"20240918160613-ghr20us","Type":"NodeParagraph","Properties":{"id":"20240918160613-ghr20us","updated":"20240918160613"},"Children":[{"Type":"NodeText","Data":"xss和CSRF区别"}]},{"ID":"20240918160613-j77nrlv","Type":"NodeBlockquote","Properties":{"id":"20240918160613-j77nrlv","updated":"20240918160613"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e"},{"ID":"20240918160613-d265g5c","Type":"NodeParagraph","Properties":{"id":"20240918160613-d265g5c","updated":"20240918160613"},"Children":[{"Type":"NodeText","Data":"1.原理上："}]},{"ID":"20240918160613-kjk3zzq","Type":"NodeList","ListData":{},"Properties":{"id":"20240918160613-kjk3zzq","updated":"20240918160613"},"Children":[{"ID":"20240918160613-gyacslt","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918160613-gyacslt","updated":"20240918160613"},"Children":[{"ID":"20240918160613-w1jzrlc","Type":"NodeParagraph","Properties":{"id":"20240918160613-w1jzrlc","updated":"20240918160613"},"Children":[{"Type":"NodeText","Data":"xss是进行恶意语句插入html页面中，当用户浏览页面时，插入的html代码会被执行，从而达到最终目的"}]}]},{"ID":"20240918160613-j43nboz","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918160613-j43nboz","updated":"20240918160613"},"Children":[{"ID":"20240918160613-vlrhde0","Type":"NodeParagraph","Properties":{"id":"20240918160613-vlrhde0","updated":"20240918160613"},"Children":[{"Type":"NodeText","Data":"CSRF是一种欺骗受害者提交而已请求共计，代表受害者执行非本意、恶意的操作"}]}]}]},{"ID":"20240918160613-57eqcvh","Type":"NodeParagraph","Properties":{"id":"20240918160613-57eqcvh","updated":"20240918160613"},"Children":[{"Type":"NodeText","Data":"2.其他角度："}]},{"ID":"20240918160613-eb0jnw8","Type":"NodeList","ListData":{},"Properties":{"id":"20240918160613-eb0jnw8","updated":"20240918160613"},"Children":[{"ID":"20240918160613-0y666ft","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918160613-0y666ft","updated":"20240918160613"},"Children":[{"ID":"20240918160613-goir55p","Type":"NodeParagraph","Properties":{"id":"20240918160613-goir55p","updated":"20240918160613"},"Children":[{"Type":"NodeText","Data":"csrf危害更大，防御难度大"}]}]},{"ID":"20240918160613-67om0u9","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918160613-67om0u9","updated":"20240918160613"},"Children":[{"ID":"20240918160613-cq5f0q0","Type":"NodeParagraph","Properties":{"id":"20240918160613-cq5f0q0","updated":"20240918160613"},"Children":[{"Type":"NodeText","Data":"xss攻击的是"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color8);"},"TextMarkType":"strong text","TextMarkTextContent":"客户端"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color8);\"}"},{"Type":"NodeText","Data":"，csrf攻击的是"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color8);"},"TextMarkType":"strong text","TextMarkTextContent":"服务端"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color8);\"}"}]}]},{"ID":"20240918160613-lg3onih","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918160613-lg3onih","updated":"20240918160613"},"Children":[{"ID":"20240918160613-fs81ccd","Type":"NodeParagraph","Properties":{"id":"20240918160613-fs81ccd","updated":"20240918160613"},"Children":[{"Type":"NodeText","Data":"xss利用"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color8);"},"TextMarkType":"text strong","TextMarkTextContent":"合法用户"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color8);\"}"},{"Type":"NodeText","Data":"获取身份信息cookie，csrf是"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color8);"},"TextMarkType":"text strong","TextMarkTextContent":"伪造"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color8);\"}"},{"Type":"NodeText","Data":"成合法用户身份发起请求，"},{"Type":"NodeTextMark","TextMarkType":"u","TextMarkTextContent":"不获取cookie"}]}]}]}]}]}]},{"ID":"20240918152257-2bc6b04","Type":"NodeParagraph","Properties":{"id":"20240918152257-2bc6b04"}},{"ID":"20240918183747-wcyle8c","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240918183747-wcyle8c","updated":"20240918183747"},"Children":[{"Type":"NodeText","Data":"漏洞分类"}]},{"ID":"20240918183759-wru17zg","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240918183759-wru17zg","updated":"20240918183819"},"Children":[{"ID":"20240918183759-w1uxaa9","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240918183759-w1uxaa9"},"Children":[{"ID":"20240918183755-qncotco","Type":"NodeParagraph","Properties":{"id":"20240918183755-qncotco","updated":"20240918183805"},"Children":[{"Type":"NodeText","Data":"资源包含（GET）"}]}]},{"ID":"20240918183806-9sl718h","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240918183806-9sl718h"},"Children":[{"ID":"20240918183806-1p2jp3f","Type":"NodeParagraph","Properties":{"id":"20240918183806-1p2jp3f","updated":"20240918183812"},"Children":[{"Type":"NodeText","Data":"基于表单（POST）"}]}]},{"ID":"20240918183812-20mc7nu","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20240918183812-20mc7nu","updated":"20240918183819"},"Children":[{"ID":"20240918183812-f8p9m8c","Type":"NodeParagraph","Properties":{"id":"20240918183812-f8p9m8c","updated":"20240918183819"},"Children":[{"Type":"NodeText","Data":"XMLHttpRequest"}]}]}]},{"ID":"20240918183747-73najlv","Type":"NodeParagraph","Properties":{"id":"20240918183747-73najlv","updated":"20240918183833"},"Children":[{"Type":"NodeText","Data":"​​"}]},{"ID":"20240918163721-4wnvwfb","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240918163721-4wnvwfb","updated":"20240918163721"},"Children":[{"Type":"NodeText","Data":"利用方式"}]},{"ID":"20240918163721-cssugzp","Type":"NodeParagraph","Properties":{"id":"20240918163721-cssugzp","updated":"20240918184423"},"Children":[{"Type":"NodeText","Data":"1.生成html文件（修改页面属性--钓鱼网页）"}]},{"ID":"20240918163721-swd4g22","Type":"NodeParagraph","Properties":{"id":"20240918163721-swd4g22","updated":"20240918184428"},"Children":[{"Type":"NodeText","Data":"  burp测试--burp表单"}]},{"ID":"20240918163721-wenerts","Type":"NodeParagraph","Properties":{"id":"20240918163721-wenerts","updated":"20240918184430"},"Children":[{"Type":"NodeText","Data":"  burp工具使用"}]},{"ID":"20240918163721-3sa0mvn","Type":"NodeParagraph","Properties":{"id":"20240918163721-3sa0mvn","updated":"20240918225743"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240918093346-i4q78hl.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240918163721-9bvm6l4","Type":"NodeParagraph","Properties":{"id":"20240918163721-9bvm6l4","updated":"20240918163721"}},{"ID":"20240918163721-omtj519","Type":"NodeParagraph","Properties":{"id":"20240918163721-omtj519","updated":"20240918184442"},"Children":[{"Type":"NodeText","Data":"2.Referer头"}]},{"ID":"20240918163721-klci2qn","Type":"NodeParagraph","Properties":{"id":"20240918163721-klci2qn","updated":"20240918184438"},"Children":[{"Type":"NodeText","Data":"3.简单利用方式"}]},{"ID":"20240918163721-8acpyg1","Type":"NodeParagraph","Properties":{"id":"20240918163721-8acpyg1","updated":"20240918163721"},"Children":[{"Type":"NodeText","Data":"xss结合CSRF"}]},{"ID":"20240918163721-40asu4h","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240918163721-40asu4h","updated":"20240918163721"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"anM="},{"Type":"NodeCodeBlockCode","Data":"\u003c/p\u003e\u003cimg src=\"http://192.168.100.40:36324/vu1/csrf/csrfget/csrf_get_edit.php?\nsex=g11\u0026phonenum=qwefewe\u0026add=usallefel\u0026emai1=laavccccchu.com\u0026submit=submit\"\u003e\u003cp\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240918163720-d213bcy","Type":"NodeParagraph","Properties":{"id":"20240918163720-d213bcy"}},{"ID":"20240918184019-jmlr9py","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240918184019-jmlr9py","updated":"20240918184019"},"Children":[{"Type":"NodeText","Data":"绕过方法"}]},{"ID":"20240918184019-eooa5ab","Type":"NodeList","ListData":{},"Properties":{"id":"20240918184019-eooa5ab","updated":"20240918184248"},"Children":[{"ID":"20240918184019-8fk20kq","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918184019-8fk20kq","updated":"20240918184019"},"Children":[{"ID":"20240918184019-hhef3qm","Type":"NodeParagraph","Properties":{"id":"20240918184019-hhef3qm","updated":"20240918184019"},"Children":[{"Type":"NodeText","Data":"Referer检测："}]},{"ID":"20240918184019-bbpe66k","Type":"NodeList","ListData":{},"Properties":{"id":"20240918184019-bbpe66k","updated":"20240918184019"},"Children":[{"ID":"20240918184019-3e78qyc","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918184019-3e78qyc","updated":"20240918184019"},"Children":[{"ID":"20240918184019-w6kmk7t","Type":"NodeParagraph","Properties":{"id":"20240918184019-w6kmk7t","updated":"20240918184019"},"Children":[{"Type":"NodeText","Data":"提交空Referer头"}]}]},{"ID":"20240918184019-i9sgfpc","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918184019-i9sgfpc","updated":"20240918184019"},"Children":[{"ID":"20240918184019-sbkt5g6","Type":"NodeParagraph","Properties":{"id":"20240918184019-sbkt5g6","updated":"20240918184019"},"Children":[{"Type":"NodeText","Data":"创建文件夹（http://x.com/a.baidu.com/index.html），设值a.baidu.com的文件夹绕过"}]}]}]}]},{"ID":"20240918184019-4u12ecr","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918184019-4u12ecr","updated":"20240918184248"},"Children":[{"ID":"20240918184019-kivo7zr","Type":"NodeParagraph","Properties":{"id":"20240918184019-kivo7zr","updated":"20240918184019"},"Children":[{"Type":"NodeText","Data":"添加token检测的"}]},{"ID":"20240918184019-s4ye802","Type":"NodeList","ListData":{},"Properties":{"id":"20240918184019-s4ye802","updated":"20240918184248"},"Children":[{"ID":"20240918184019-se1eywu","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918184019-se1eywu","updated":"20240918184146"},"Children":[{"ID":"20240918184019-f5tdhxr","Type":"NodeParagraph","Properties":{"id":"20240918184019-f5tdhxr","updated":"20240918184146"},"Children":[{"Type":"NodeText","Data":"删除令牌-检测是否未授权"}]},{"ID":"20240918184019-7g62ywh","Type":"NodeList","ListData":{},"Properties":{"id":"20240918184019-7g62ywh","updated":"20240918184019"},"Children":[{"ID":"20240918184019-8nm13mt","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918184019-8nm13mt","updated":"20240918184019"},"Children":[{"ID":"20240918184019-yd6z08d","Type":"NodeParagraph","Properties":{"id":"20240918184019-yd6z08d","updated":"20240918184019"},"Children":[{"Type":"NodeText","Data":"删除cookie或token，可以的话就是未授权（API接口未授权、CSRF）"}]}]}]}]},{"ID":"20240918184019-y2o95zn","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918184019-y2o95zn","updated":"20240918184138"},"Children":[{"ID":"20240918184019-1s7p84c","Type":"NodeParagraph","Properties":{"id":"20240918184019-1s7p84c","updated":"20240918184138"},"Children":[{"Type":"NodeText","Data":"令牌共享-替换token"}]},{"ID":"20240918184019-y2jzrbk","Type":"NodeList","ListData":{},"Properties":{"id":"20240918184019-y2jzrbk","updated":"20240918184019"},"Children":[{"ID":"20240918184019-1ssck67","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918184019-1ssck67","updated":"20240918184019"},"Children":[{"ID":"20240918184019-xtsie55","Type":"NodeParagraph","Properties":{"id":"20240918184019-xtsie55","updated":"20240918184019"},"Children":[{"Type":"NodeText","Data":"创建两个相同账户，交换token使用来看"}]}]}]}]},{"ID":"20240918184019-ik5skj1","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918184019-ik5skj1","updated":"20240918184155"},"Children":[{"ID":"20240918184019-eulug07","Type":"NodeParagraph","Properties":{"id":"20240918184019-eulug07","updated":"20240918184155"},"Children":[{"Type":"NodeText","Data":"篡改令牌值-更改token"}]},{"ID":"20240918184019-crhvtj2","Type":"NodeList","ListData":{},"Properties":{"id":"20240918184019-crhvtj2","updated":"20240918184019"},"Children":[{"ID":"20240918184019-q13qhcp","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918184019-q13qhcp","updated":"20240918184019"},"Children":[{"ID":"20240918184019-sjdf2ud","Type":"NodeParagraph","Properties":{"id":"20240918184019-sjdf2ud","updated":"20240918184019"},"Children":[{"Type":"NodeText","Data":"检查token长度（仅针对长度的，检查内容的话就没用了）"}]}]}]}]},{"ID":"20240918184019-akozddk","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918184019-akozddk","updated":"20240918184210"},"Children":[{"ID":"20240918184019-wfolsvt","Type":"NodeParagraph","Properties":{"id":"20240918184019-wfolsvt","updated":"20240918184210"},"Children":[{"Type":"NodeText","Data":"解码CSRF令牌编码"}]},{"ID":"20240918184019-x3s3w5a","Type":"NodeList","ListData":{},"Properties":{"id":"20240918184019-x3s3w5a","updated":"20240918184019"},"Children":[{"ID":"20240918184019-bx5mffr","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918184019-bx5mffr","updated":"20240918184019"},"Children":[{"ID":"20240918184019-sj15016","Type":"NodeParagraph","Properties":{"id":"20240918184019-sj15016","updated":"20240918184019"},"Children":[{"Type":"NodeText","Data":"MD5、base64"}]}]}]}]},{"ID":"20240918184019-1k5l1gf","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918184019-1k5l1gf","updated":"20240918184224"},"Children":[{"ID":"20240918184019-73835sz","Type":"NodeParagraph","Properties":{"id":"20240918184019-73835sz","updated":"20240918184224"},"Children":[{"Type":"NodeText","Data":"请求方法：get---》post   post--》get"}]}]},{"ID":"20240918184019-xfqkoyq","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918184019-xfqkoyq","updated":"20240918184248"},"Children":[{"ID":"20240918184019-o6ehg4v","Type":"NodeParagraph","Properties":{"id":"20240918184019-o6ehg4v","updated":"20240918184248"},"Children":[{"Type":"NodeText","Data":"窃取token:重定向、XSS、web缓存欺骗、clickjacking等都可能导致"}]}]}]}]}]},{"ID":"20240918163720-b1ibdbm","Type":"NodeParagraph","Properties":{"id":"20240918163720-b1ibdbm"}},{"ID":"20240918184057-2yndu4h","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20240918184057-2yndu4h","updated":"20240918184057"},"Children":[{"Type":"NodeText","Data":"漏洞利用总结"}]},{"ID":"20240918184057-fxc7vjn","Type":"NodeParagraph","Properties":{"id":"20240918184057-fxc7vjn","updated":"20240918184057"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240918144731-i2w5xmd.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20240918091008-f3giv5q","Type":"NodeHeading","HeadingLevel":1,"Properties":{"fold":"1","id":"20240918091008-f3giv5q","updated":"20240918160857"},"Children":[{"Type":"NodeText","Data":"​​同源策略"}]},{"ID":"20240918160911-eowwe77","Type":"NodeBlockquote","Properties":{"fold":"1","heading-fold":"1","id":"20240918160911-eowwe77","updated":"20240918163651"},"Children":[{"ID":"20240918090504-35kzg2u","Type":"NodeList","ListData":{},"Properties":{"id":"20240918090504-35kzg2u","updated":"20240918163651"},"Children":[{"ID":"20240918160953-v7wiswu","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918160953-v7wiswu","updated":"20240918160953"},"Children":[{"ID":"20240918160953-v4e13kh","Type":"NodeParagraph","Properties":{"id":"20240918160953-v4e13kh","updated":"20240918160953"},"Children":[{"Type":"NodeText","Data":"源：URL中的协议、域名和端口组合​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240918095554-pvvcuew.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20240918161002-k93zfwt","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918161002-k93zfwt"},"Children":[{"ID":"20240918161002-lohoe9h","Type":"NodeParagraph","Properties":{"id":"20240918161002-lohoe9h","updated":"20240918161012"},"Children":[{"Type":"NodeText","Data":"同源：两网页的协议、端口和域名都相同；不同源的客户端脚本之间，不能直接读写对方的资源"}]},{"ID":"20240918161027-4zfxupk","Type":"NodeParagraph","Properties":{"id":"20240918161027-4zfxupk","updated":"20240918161029"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240918095547-3f2nvu0.png"},{"Type":"NodeCloseParen"}]}]}]},{"ID":"20240918161134-8fjjh7n","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918161134-8fjjh7n"},"Children":[{"ID":"20240918161134-mb4ahg9","Type":"NodeParagraph","Properties":{"id":"20240918161134-mb4ahg9","updated":"20240918161157"},"Children":[{"Type":"NodeText","Data":"同源策略"}]},{"ID":"20240918161143-3asfiz5","Type":"NodeList","ListData":{},"Properties":{"id":"20240918161143-3asfiz5"},"Children":[{"ID":"20240918161142-ytwofgx","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918161142-ytwofgx"},"Children":[{"ID":"20240918161142-gyy74fn","Type":"NodeParagraph","Properties":{"id":"20240918161142-gyy74fn","updated":"20240918163120"},"Children":[{"Type":"NodeText","Data":"是浏览器的一个"},{"Type":"NodeTextMark","Properties":{"style":"background-color: var(--b3-card-info-background); color: var(--b3-card-info-color);"},"TextMarkType":"text","TextMarkTextContent":"安全功能"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"background-color: var(--b3-card-info-background); color: var(--b3-card-info-color);\"}"},{"Type":"NodeText","Data":"，"},{"Type":"NodeTextMark","Properties":{"style":"background-color: var(--b3-card-info-background); color: var(--b3-card-info-color);"},"TextMarkType":"text","TextMarkTextContent":"不同源的"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"background-color: var(--b3-card-info-background); color: var(--b3-card-info-color);\"}"},{"Type":"NodeText","Data":"客户端脚本在"},{"Type":"NodeTextMark","Properties":{"style":"background-color: var(--b3-card-info-background); color: var(--b3-card-info-color);"},"TextMarkType":"text","TextMarkTextContent":"没有明确授权"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"background-color: var(--b3-card-info-background); color: var(--b3-card-info-color);\"}"},{"Type":"NodeText","Data":"的情况下，不能读写对方资源"}]}]},{"ID":"20240918161239-qq4aiwn","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918161239-qq4aiwn"},"Children":[{"ID":"20240918161239-wimcn8t","Type":"NodeParagraph","Properties":{"id":"20240918161239-wimcn8t","updated":"20240918161316"},"Children":[{"Type":"NodeText","Data":"限制了从同一个源加载的文档或脚本如何与来自另一个源的资源进行交互"}]}]},{"ID":"20240918161317-fjubvbx","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918161317-fjubvbx"},"Children":[{"ID":"20240918161317-j2k7zzc","Type":"NodeParagraph","Properties":{"id":"20240918161317-j2k7zzc","updated":"20240918163104"},"Children":[{"Type":"NodeText","Data":"这是一个用于"},{"Type":"NodeTextMark","Properties":{"style":"background-color: var(--b3-card-info-background); color: var(--b3-card-info-color);"},"TextMarkType":"text","TextMarkTextContent":"隔离潜在恶意文件"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"background-color: var(--b3-card-info-background); color: var(--b3-card-info-color);\"}"},{"Type":"NodeText","Data":"的重要安全机制"}]}]}]}]}]},{"Type":"NodeBlockquoteMarker","Data":"\u003e"}]},{"ID":"20240918092347-9kdckus","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20240918092347-9kdckus"}},{"ID":"20240918163733-0bh4xg8","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20240918163733-0bh4xg8","updated":"20240918163733"},"Children":[{"Type":"NodeText","Data":"受约束对象：（浏览器内的部分）"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color8);"},"TextMarkType":"text","TextMarkTextContent":"DOM、cookie、第三方插件"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color8);\"}"},{"Type":"NodeText","Data":"以及"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color8);"},"TextMarkType":"text","TextMarkTextContent":"XMLHttpRequest"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color8);\"}"},{"Type":"NodeText","Data":"（AJAX请求）"}]},{"ID":"20240918163733-9tmpcek","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20240918163733-9tmpcek","updated":"20240918163733"},"Children":[{"Type":"NodeText","Data":"不受约束对象："}]},{"ID":"20240918163733-f1q7d1b","Type":"NodeList","ListData":{},"Properties":{"fold":"1","heading-fold":"1","id":"20240918163733-f1q7d1b","updated":"20240918163733"},"Children":[{"ID":"20240918163733-dm4qfb4","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918163733-dm4qfb4","updated":"20240918163733"},"Children":[{"ID":"20240918163733-gkm847j","Type":"NodeParagraph","Properties":{"id":"20240918163733-gkm847j","updated":"20240918163733"},"Children":[{"Type":"NodeText","Data":"页面中的"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color8);"},"TextMarkType":"text","TextMarkTextContent":"链接\u0026lt;a href=\u0026gt;"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color8);\"}"},{"Type":"NodeText","Data":"，"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color8);"},"TextMarkType":"text","TextMarkTextContent":"重定向"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color8);\"}"},{"Type":"NodeText","Data":"以及"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color8);"},"TextMarkType":"text","TextMarkTextContent":"表单action=\u0026quot;????\u0026quot;"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color8);\"}"},{"Type":"NodeText","Data":"提交是不会收到同源策略限制的"}]}]},{"ID":"20240918163733-0j762sr","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918163733-0j762sr","updated":"20240918163733"},"Children":[{"ID":"20240918163733-v6xdqte","Type":"NodeParagraph","Properties":{"id":"20240918163733-v6xdqte","updated":"20240918163733"},"Children":[{"Type":"NodeText","Data":"跨域资源的引入是可以的，但是js不能读写加载的内容，如嵌入到页面中的\u003cscript\u003e,\u003cimg\u003e,\u003clink\u003e,\u003ciframe\u003e等带src属性的标签"}]},{"ID":"20240918163733-1wgkpoy","Type":"NodeParagraph","Properties":{"id":"20240918163733-1wgkpoy","updated":"20240918163733"},"Children":[{"Type":"NodeText","Data":"eg：http://www.a.com \u003cimg src=\"http://www.bbbb.com/img.png\"\u003e"}]}]}]},{"ID":"20240918163733-7ocdtk9","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20240918163733-7ocdtk9","updated":"20240918163744"},"Children":[{"Type":"NodeText","Data":"非同源受到的限制："}]},{"ID":"20240918163733-2m6fz5p","Type":"NodeList","ListData":{},"Properties":{"fold":"1","heading-fold":"1","id":"20240918163733-2m6fz5p","updated":"20240918163744"},"Children":[{"ID":"20240918163733-exfjlsq","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918163733-exfjlsq","updated":"20240918163733"},"Children":[{"ID":"20240918163733-1rvku1o","Type":"NodeParagraph","Properties":{"id":"20240918163733-1rvku1o","updated":"20240918163733"},"Children":[{"Type":"NodeText","Data":"Cookie、LocalStorage和IndexDB无法读取"}]}]},{"ID":"20240918163733-82h86jf","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918163733-82h86jf","updated":"20240918163733"},"Children":[{"ID":"20240918163733-x18g7f2","Type":"NodeParagraph","Properties":{"id":"20240918163733-x18g7f2","updated":"20240918163733"},"Children":[{"Type":"NodeText","Data":"DOM无法获得"}]}]},{"ID":"20240918163733-tv7hsai","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918163733-tv7hsai","updated":"20240918163733"},"Children":[{"ID":"20240918163733-qj3nc5k","Type":"NodeParagraph","Properties":{"id":"20240918163733-qj3nc5k","updated":"20240918163733"},"Children":[{"Type":"NodeText","Data":"AJAX请求不能发送"}]}]}]},{"ID":"20240918161107-579e000","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20240918161107-579e000"}},{"ID":"20240918105149-jue8tbv","Type":"NodeHeading","HeadingLevel":1,"Properties":{"fold":"1","id":"20240918105149-jue8tbv","updated":"20240918105151"},"Children":[{"Type":"NodeText","Data":"跨域"}]},{"ID":"20240918163803-du84ir2","Type":"NodeBlockquote","Properties":{"fold":"1","heading-fold":"1","id":"20240918163803-du84ir2","updated":"20240918165158"},"Children":[{"ID":"20240918105152-pznhdjm","Type":"NodeParagraph","Properties":{"id":"20240918105152-pznhdjm","updated":"20240918165158"},"Children":[{"Type":"NodeText","Data":"两个不同域之间的数据共享或资源共享（请求）称为跨域"}]},{"Type":"NodeBlockquoteMarker","Data":"\u003e"}]},{"ID":"20240918105354-zn7zqpc","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20240918105354-zn7zqpc","updated":"20240918184044"}},{"ID":"20240918105228-f0hmton","Type":"NodeHeading","HeadingLevel":2,"Properties":{"fold":"1","heading-fold":"1","id":"20240918105228-f0hmton","updated":"20240918105231"},"Children":[{"Type":"NodeText","Data":"跨域方法"}]},{"ID":"20240918165349-kzdweqa","Type":"NodeHeading","HeadingLevel":3,"Properties":{"fold":"1","heading-fold":"1","id":"20240918165349-kzdweqa","updated":"20240918175331"},"Children":[{"Type":"NodeText","Data":"document.domain跨域---共享cookie"}]},{"ID":"20240918165402-uhkv1xu","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20240918165402-uhkv1xu","updated":"20240918165403"},"Children":[{"Type":"NodeText","Data":"一级域名相同，二级不同；后端设置document.domain=“主域名”，两个二级域名之间进行通信"}]},{"ID":"20240918165414-5rzbn4x","Type":"NodeList","ListData":{},"Properties":{"fold":"1","heading-fold":"1","id":"20240918165414-5rzbn4x"},"Children":[{"ID":"20240918165413-n039vla","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918165413-n039vla"},"Children":[{"ID":"20240918165413-xfdgvel","Type":"NodeParagraph","Properties":{"id":"20240918165413-xfdgvel","updated":"20240918165416"},"Children":[{"Type":"NodeText","Data":"特点"}]},{"ID":"20240918165424-ot9a09l","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240918165424-ot9a09l"},"Children":[{"ID":"20240918165424-yju0kro","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240918165424-yju0kro"},"Children":[{"ID":"20240918165419-9655od6","Type":"NodeParagraph","Properties":{"id":"20240918165419-9655od6","updated":"20240918165445"},"Children":[{"Type":"NodeText","Data":"只能在父域名与子域名之间使用"}]}]},{"ID":"20240918165446-7wbr6vi","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240918165446-7wbr6vi"},"Children":[{"ID":"20240918165446-g9i5iyk","Type":"NodeParagraph","Properties":{"id":"20240918165446-g9i5iyk","updated":"20240918165508"},"Children":[{"Type":"NodeText","Data":"存在安全性问题，当一个站点被攻击后，另一个站点会引起安全漏洞"}]}]},{"ID":"20240918165509-wqli6m1","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20240918165509-wqli6m1"},"Children":[{"ID":"20240918165509-841nols","Type":"NodeParagraph","Properties":{"id":"20240918165509-841nols","updated":"20240918165524"},"Children":[{"Type":"NodeText","Data":"只适用于cookie和iframe窗口"}]}]}]}]},{"ID":"20240918165610-0ftmxd9","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918165610-0ftmxd9"},"Children":[{"ID":"20240918165611-k22u0r9","Type":"NodeParagraph","Properties":{"id":"20240918165611-k22u0r9","updated":"20240918165611"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240918165611-nh2aq2k.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]}]}]},{"ID":"20240918175835-am21s0t","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20240918175835-am21s0t"}},{"ID":"20240918165912-ih2egs9","Type":"NodeHeading","HeadingLevel":3,"Properties":{"fold":"1","heading-fold":"1","id":"20240918165912-ih2egs9","updated":"20240918175324"},"Children":[{"Type":"NodeText","Data":"JSONP跨域---读取数据"}]},{"ID":"20240918165931-7kn16bu","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20240918165931-7kn16bu","updated":"20240918174659"},"Children":[{"Type":"NodeText","Data":"利用\u003cscrip\u003e的src不受同源策略约束实现跨域获取数据"}]},{"ID":"20240918174700-p5duhvw","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20240918174700-p5duhvw","updated":"20240918174818"},"Children":[{"Type":"NodeText","Data":"Jsonp（JSON with Padding）是JSON的一种使用模式，可以让网页从别的域名（网站）那获取资料（跨域读取数据）"}]},{"ID":"20240918175156-xcgvs87","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"fold":"1","heading-fold":"1","id":"20240918175156-xcgvs87","updated":"20240918175249"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"anM="},{"Type":"NodeCodeBlockCode","Data":"jsond（JSON whit padding）json的一种格式可从其他域名下获取数据{\"a\":\"sasas\";\"b\":\"dada\"}\n#API接口\\固定资源\n\u003cscript src=\"http://x.com/j.jpg\"\u003e\u003c/script\u003e\n只能用GET获取\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240918174822-i3jbdin","Type":"NodeList","ListData":{},"Properties":{"fold":"1","heading-fold":"1","id":"20240918174822-i3jbdin"},"Children":[{"ID":"20240918174821-8wi4hp1","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918174821-8wi4hp1"},"Children":[{"ID":"20240918174821-wwmtbcg","Type":"NodeParagraph","Properties":{"id":"20240918174821-wwmtbcg","updated":"20240918174825"},"Children":[{"Type":"NodeText","Data":"存在问题"}]},{"ID":"20240918174842-n6kfm4e","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20240918174842-n6kfm4e"},"Children":[{"ID":"20240918174842-wxon9qa","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240918174842-wxon9qa"},"Children":[{"ID":"20240918174836-swde7go","Type":"NodeParagraph","Properties":{"id":"20240918174836-swde7go","updated":"20240918174901"},"Children":[{"Type":"NodeText","Data":"存在安全性问题，需要网站双方商议基础token的身份验证"}]}]},{"ID":"20240918174902-w5rysy0","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240918174902-w5rysy0"},"Children":[{"ID":"20240918174902-y34n3gh","Type":"NodeParagraph","Properties":{"id":"20240918174902-y34n3gh","updated":"20240918174910"},"Children":[{"Type":"NodeText","Data":"只能是GET，不能是POST"}]}]},{"ID":"20240918174910-qb830mj","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20240918174910-qb830mj"},"Children":[{"ID":"20240918174910-07dvl4n","Type":"NodeParagraph","Properties":{"id":"20240918174910-07dvl4n","updated":"20240918175000"},"Children":[{"Type":"NodeText","Data":"可能被注入恶意代码，篡改页面内容，可以采用字符串过滤来规避此问题"}]}]}]},{"ID":"20240918175102-vmg40e2","Type":"NodeParagraph","Properties":{"id":"20240918175102-vmg40e2","updated":"20240918175102"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20240918175102-d969gdy.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]}]}]},{"ID":"20240918175833-1xj3r3n","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20240918175833-1xj3r3n"}},{"ID":"20240918175304-it2dzfz","Type":"NodeHeading","HeadingLevel":3,"Properties":{"fold":"1","heading-fold":"1","id":"20240918175304-it2dzfz","updated":"20240918180116"},"Children":[{"Type":"NodeText","Data":"CORS跨域---跨域资源共享（Cross-Origin Resource Sharing）"}]},{"ID":"20240918175402-m0uv2me","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20240918175402-m0uv2me","updated":"20240918175802"},"Children":[{"Type":"NodeText","Data":"CORS是一个标准W3C标准，允许浏览器向跨域服务器发出XMLHttpRequest请求"}]},{"ID":"20240918175440-a81px9o","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20240918175440-a81px9o","updated":"20240918175802"},"Children":[{"Type":"NodeText","Data":"利用Javascript无法控制Http头的特点，通过目标返回的Http头授权是否允许跨域访问"}]},{"ID":"20240918175541-ffx0x4s","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"fold":"1","heading-fold":"1","id":"20240918175541-ffx0x4s","updated":"20240918180739"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"anM="},{"Type":"NodeCodeBlockCode","Data":"http://a.baidu.com 可以访问谁-无限制\nhttp://b.baidu.com（图、视频、文件）谁可访问我，（响应头指定a.baidu.com可以访问我的资源）-类似白名单\n#a.com想得到b.com中的内容，在b.com里面添加响应头声明允许a.com的访问\n添加Access-Control-Allow-Origin:a.com，然后a.com就可以用ajax获取b.com里的数据了\n\nPS：此方法IE8以下完全不支持，IE8-10部分支持\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20240918110143-im9ggwn","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20240918110143-im9ggwn","updated":"20240918175535"}},{"ID":"20240918110529-mkhc49n","Type":"NodeHeading","HeadingLevel":4,"Properties":{"fold":"1","heading-fold":"1","id":"20240918110529-mkhc49n","updated":"20240918180210"},"Children":[{"Type":"NodeText","Data":"检测方法"}]},{"ID":"20240918180228-gav64cf","Type":"NodeList","ListData":{"Typ":1},"Properties":{"fold":"1","heading-fold":"1","id":"20240918180228-gav64cf","updated":"20240918182617"},"Children":[{"ID":"20240918180228-r1ga5xd","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20240918180228-r1ga5xd"},"Children":[{"ID":"20240918180221-emisog8","Type":"NodeParagraph","Properties":{"id":"20240918180221-emisog8","updated":"20240918180314"},"Children":[{"Type":"NodeText","Data":"curl https://www.baidu.com -H “Origin：https://qq.com” -l"}]},{"ID":"20240918180314-oqnnx61","Type":"NodeParagraph","Properties":{"id":"20240918180314-oqnnx61","updated":"20240918180647"},"Children":[{"Type":"NodeText","Data":"检查返回包的 Access-Control-Allow-Origin 字段是否为https://qq.com"}]}]},{"ID":"20240918180606-srfx3aq","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20240918180606-srfx3aq","updated":"20240918182617"},"Children":[{"ID":"20240918180606-9w10n88","Type":"NodeParagraph","Properties":{"id":"20240918180606-9w10n88","updated":"20240918180623"},"Children":[{"Type":"NodeText","Data":"bp发送请求包，查看返回包"}]},{"ID":"20240918180624-3mlqgpc","Type":"NodeParagraph","Properties":{"id":"20240918180624-3mlqgpc","updated":"20240918180732"},"Children":[{"Type":"NodeText","Data":"ps：Access-Control-Allow-Origin的值"}]},{"ID":"20240918182614-ocl35t7","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240918182614-ocl35t7","updated":"20240918182617"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"anM="},{"Type":"NodeCodeBlockCode","Data":"#谁都可以访问\nAccess-Control-Allow-Origin:null\nAccess-Control-Allow-Origin::*\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]},{"ID":"20240918182612-3snrelq","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20240918182612-3snrelq"},"Children":[{"ID":"20240918182612-2ery3cx","Type":"NodeParagraph","Properties":{"id":"20240918182612-2ery3cx"},"Children":[{"Type":"NodeText","Data":"自动化检测cors漏洞"}]}]}]},{"ID":"20240918182517-36243bs","Type":"NodeBlockquote","Properties":{"fold":"1","heading-fold":"1","id":"20240918182517-36243bs","updated":"20240918182946"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e"},{"ID":"20240918182517-wvsefe9","Type":"NodeParagraph","Properties":{"id":"20240918182517-wvsefe9","updated":"20240918182517"},"Children":[{"Type":"NodeText","Data":"https://github.com/chenjj/CORScanner\nShort Form Long Form Description"}]},{"ID":"20240918182517-26qg5c2","Type":"NodeParagraph","Properties":{"id":"20240918182517-26qg5c2","updated":"20240918182946"},"Children":[{"Type":"NodeText","Data":"-u --url                   用于检査其 CORS策略的 URL/域\n-d --headers          向请求添加标头\n-i  --input               URL/域列表文件来检査他们的CORS策略\n-t --threads            用于 CORS扫描的线程数\n-o --output            将结果保存到json文件\n-v --verbose           启用详细模式并实施显示结果\n-T --timeout           设置请求超时(默认为 10 秒)\n-P --proxy               启用代理(http 或 socks5)\n-h --help                 显示帮助消息并退出"}]}]},{"ID":"20240918183001-pb7nan2","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20240918183001-pb7nan2"}},{"ID":"20240918180811-ayae88j","Type":"NodeHeading","HeadingLevel":4,"Properties":{"fold":"1","heading-fold":"1","id":"20240918180811-ayae88j","updated":"20240918180815"},"Children":[{"Type":"NodeText","Data":"漏洞利用"}]},{"ID":"20240918180820-mf11ufs","Type":"NodeList","ListData":{},"Properties":{"fold":"1","heading-fold":"1","id":"20240918180820-mf11ufs","updated":"20240918182009"},"Children":[{"ID":"20240918181959-7ea3pbz","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918181959-7ea3pbz","updated":"20240918182009"},"Children":[{"ID":"20240918181959-fsickd8","Type":"NodeParagraph","Properties":{"id":"20240918181959-fsickd8","updated":"20240918182009"},"Children":[{"Type":"NodeText","Data":"读数据、文件"}]},{"ID":"20240918180825-x15m2k3","Type":"NodeParagraph","Properties":{"id":"20240918180825-x15m2k3","updated":"20240918180851"},"Children":[{"Type":"NodeText","Data":"同于csrf跨站请求伪造，发送钓鱼链接，读取用户敏感数据"}]},{"ID":"20240918180851-cqlmexz","Type":"NodeParagraph","Properties":{"id":"20240918180851-cqlmexz","updated":"20240918180909"},"Children":[{"Type":"NodeText","Data":"用户点击button弹出响应信息"}]},{"ID":"20240918180916-670y78o","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240918180916-670y78o","updated":"20240918181041"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"anM="},{"Type":"NodeCodeBlockCode","Data":"document.getElementByld(\"demo\").innerHTML=alert(this.responseText);\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}]},{"ID":"20240918180820-dkbprwb","Type":"NodeList","ListData":{},"Properties":{"fold":"1","heading-fold":"1","id":"20240918180820-dkbprwb","updated":"20240918182324"},"Children":[{"ID":"20240918181045-326hq3h","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918181045-326hq3h","updated":"20240918182324"},"Children":[{"ID":"20240918181045-tlqa0is","Type":"NodeParagraph","Properties":{"id":"20240918181045-tlqa0is","updated":"20240918181110"},"Children":[{"Type":"NodeText","Data":"获取cookie，针对http-only js代码无法读取情况"}]},{"ID":"20240918182028-rfd9d1j","Type":"NodeParagraph","Properties":{"id":"20240918182028-rfd9d1j","updated":"20240918182304"},"Children":[{"Type":"NodeText","Data":"通过ajax异步的html文件，异步1：请求a.baidu.com获取跨域cookie（前提：需要设置了document.domain=\"主域名\"），异步2：将异步1请求的页面的html获取，存储到本地的source.html,当浏览器通过source.html访问时带着跨域的cookie"}]},{"ID":"20240918182305-ifswjb2","Type":"NodeParagraph","Properties":{"id":"20240918182305-ifswjb2","updated":"20240918182324"},"Children":[{"Type":"NodeText","Data":"PS:cookie是存储在浏览器内的"}]},{"ID":"20240918181111-z72dzzu","Type":"NodeParagraph","Properties":{"id":"20240918181111-z72dzzu","updated":"20240918181127"},"Children":[{"Type":"NodeText","Data":"搭建的攻击服务器恶意代码 test.php"}]},{"ID":"20240918181128-8s7jpuq","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20240918181128-8s7jpuq","updated":"20240918181334"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"anM="},{"Type":"NodeCodeBlockCode","Data":"\u003c?php\n$file=fopen(\"secrect.html\",\"w+\");\n$res=$_POST['z0'];\nfwrite($file,$res);\nfclose($res);\n?\u003e\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}]},{"ID":"20240918180821-u73fw91","Type":"NodeList","ListData":{},"Properties":{"fold":"1","heading-fold":"1","id":"20240918180821-u73fw91","updated":"20240918182430"},"Children":[{"ID":"20240918181337-a81pv1q","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20240918181337-a81pv1q","updated":"20240918182430"},"Children":[{"ID":"20240918181337-t17nzbk","Type":"NodeParagraph","Properties":{"id":"20240918181337-t17nzbk","updated":"20240918181849"},"Children":[{"Type":"NodeText","Data":"结合xss漏洞利用cors漏洞，针对http_only js代码无法读取"}]},{"ID":"20240918181850-b9ti6dy","Type":"NodeParagraph","Properties":{"id":"20240918181850-b9ti6dy","updated":"20240918181914"},"Children":[{"Type":"NodeText","Data":"将js代码放置在远程web服务器是能够利用xss远程加载即可"}]},{"ID":"20240918181915-m83hozv","Type":"NodeParagraph","Properties":{"id":"20240918181915-m83hozv","updated":"20240918182355"},"Children":[{"Type":"NodeText","Data":"（1）存在一个服务或者网站"}]},{"ID":"20240918182355-mhgmwvk","Type":"NodeParagraph","Properties":{"id":"20240918182355-mhgmwvk","updated":"20240918182402"},"Children":[{"Type":"NodeText","Data":"（2）XSS漏洞"}]},{"ID":"20240918182402-98jad19","Type":"NodeParagraph","Properties":{"id":"20240918182402-98jad19","updated":"20240918182430"},"Children":[{"Type":"NodeText","Data":"（3）漏洞内通过ajax加载js异步代码访问存在的服务或者网站"}]}]}]},{"ID":"20240918180821-v8eopw0","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20240918180821-v8eopw0"}},{"ID":"20240918141200-9pzz4im","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20240918141200-9pzz4im"}},{"ID":"20240918141200-bzv5ajj","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20240918141200-bzv5ajj"}},{"ID":"20240918141647-5037cmc","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20240918141647-5037cmc"}},{"ID":"20240918142712-6sfjbmh","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20240918142712-6sfjbmh"}},{"ID":"20240918141820-mw4ttma","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20240918141820-mw4ttma"}},{"ID":"20240918184026-19c3724","Type":"NodeParagraph","Properties":{"fold":"1","heading-fold":"1","id":"20240918184026-19c3724"}}]}