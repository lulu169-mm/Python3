{"ID":"20241101093648-99ak5hs","Spec":"1","Type":"NodeDocument","Properties":{"id":"20241101093648-99ak5hs","scroll":"\u0026#123;\u0026quot;rootId\u0026quot;:\u0026quot;20241101093648-99ak5hs\u0026quot;,\u0026quot;startId\u0026quot;:\u0026quot;20241101093648-zghw6ny\u0026quot;,\u0026quot;endId\u0026quot;:\u0026quot;20241101093648-zghw6ny\u0026quot;,\u0026quot;scrollTop\u0026quot;:0,\u0026quot;focusId\u0026quot;:\u0026quot;20241101093648-zghw6ny\u0026quot;,\u0026quot;focusStart\u0026quot;:0,\u0026quot;focusEnd\u0026quot;:0\u0026#125;","title":"updatexml（）函数","updated":"20241101102138"},"Children":[{"ID":"20241101095406-vczboaa","Type":"NodeBlockquote","Properties":{"id":"20241101095406-vczboaa","updated":"20241101100156"},"Children":[{"ID":"20241101093648-zghw6ny","Type":"NodeParagraph","Properties":{"id":"20241101093648-zghw6ny","updated":"20241101100156"},"Children":[{"Type":"NodeText","Data":"updatexml（）是mysql对xml文档数据进行查询和修改的XPATH函数。输出mysql数据库的错误信息。使用了mysql(i)_error()"}]},{"ID":"20241101095630-6ynpg04","Type":"NodeParagraph","Properties":{"id":"20241101095630-6ynpg04","updated":"20241101101925"},"Children":[{"Type":"NodeText","Data":"updatexml(xml_doument,XPath_string,new_value)\n第一个参数：xml文档对象名称\n第二个参数：XPATH格式的字符串\n第三个参数：是更新后的内容\n所以第一和第三个参数可以随便写，只需要利用第二个参数，他会校验你输入的内容是否符合XPATH格式，当我们输入一个不符合xpath语法的语句就报错了，我们注入利用的就是这一点。"}]},{"Type":"NodeBlockquoteMarker","Data":"\u003e"}]},{"ID":"20241101095628-ph4j8pb","Type":"NodeParagraph","Properties":{"id":"20241101095628-ph4j8pb","updated":"20241101102138"},"Children":[{"Type":"NodeText","Data":"PS:"}]},{"ID":"20241101095619-56myqiq","Type":"NodeHeading","HeadingLevel":5,"Properties":{"id":"20241101095619-56myqiq","updated":"20241101095733"},"Children":[{"Type":"NodeText","Data":"条件"}]},{"ID":"20241101095749-bg61ils","Type":"NodeParagraph","Properties":{"id":"20241101095749-bg61ils","updated":"20241101101942"},"Children":[{"Type":"NodeText","Data":"mysql 5.1.5以上版本"}]},{"ID":"20241101101946-lqprwd8","Type":"NodeParagraph","Properties":{"id":"20241101101946-lqprwd8","updated":"20241101101958"},"Children":[{"Type":"NodeText","Data":"标准payload："}]},{"ID":"20241101101959-y3mhl0l","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20241101101959-y3mhl0l","updated":"20241101102041"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"YmFzaA=="},{"Type":"NodeCodeBlockCode","Data":"and updatexml(1,concat(0x7e,(select user()),0x7e),1)\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}